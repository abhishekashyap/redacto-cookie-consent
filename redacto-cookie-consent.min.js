var redacto=function(e){"use strict";class n{static createElement(e,n,t){const o=document.createElement(e);return n&&(o.className=n),t&&(o.id=t),o}static createButton(e,n,t){const o=document.createElement("button");return o.textContent=e,n&&(o.className=n),t&&o.addEventListener("click",t),o}static createDiv(e,n){const t=document.createElement("div");return e&&(t.className=e),n&&(t.innerHTML=n),t}static createSpan(e,n){const t=document.createElement("span");return e&&(t.className=e),n&&(t.textContent=n),t}static createParagraph(e,n){const t=document.createElement("p");return e&&(t.className=e),n&&(t.textContent=n),t}static createHeading(e,n,t){const o=document.createElement(`h${e}`);return n&&(o.className=n),t&&(o.textContent=t),o}static createLink(e,n,t,o){const a=document.createElement("a");return a.href=e,a.textContent=n,t&&(a.className=t),o&&(a.target=o),a}static createCheckbox(e,n=!1,t=!1){const o=document.createElement("input");return o.type="checkbox",o.id=e,o.checked=n,o.disabled=t,o}static createLabel(e,n,t){const o=document.createElement("label");return o.htmlFor=e,o.textContent=n,t&&(o.className=t),o}static addStyles(e,n){Object.assign(e.style,n)}static addClass(e,n){e.classList.add(n)}static removeClass(e,n){e.classList.remove(n)}static toggleClass(e,n){e.classList.toggle(n)}static hasClass(e,n){return e.classList.contains(n)}static show(e){e.style.display="block"}static hide(e){e.style.display="none"}static isVisible(e){return"none"!==e.style.display&&null!==e.offsetParent}static getElementById(e){return document.getElementById(e)}static getElementsByClassName(e){return document.getElementsByClassName(e)}static querySelector(e){return document.querySelector(e)}static querySelectorAll(e){return document.querySelectorAll(e)}static appendChild(e,n){e.appendChild(n)}static removeChild(e,n){e.contains(n)&&e.removeChild(n)}static insertBefore(e,n,t){e.insertBefore(n,t)}static replaceChild(e,n,t){e.replaceChild(n,t)}static addEventListener(e,n,t){e.addEventListener(n,t)}static removeEventListener(e,n,t){e.removeEventListener(n,t)}static createStyleSheet(e){const n=document.createElement("style");return n.textContent=e,n}static injectCSS(e,n){const t=this.createStyleSheet(e);return n&&(t.id=n),document.head.appendChild(t),t}static removeStyleSheet(e){const n=document.getElementById(e);n&&n.remove()}static getViewportSize(){return{width:window.innerWidth||document.documentElement.clientWidth,height:window.innerHeight||document.documentElement.clientHeight}}static isMobile(){return window.innerWidth<=768}static isTablet(){return window.innerWidth>768&&window.innerWidth<=1024}static isDesktop(){return window.innerWidth>1024}static getDeviceType(){return this.isMobile()?"mobile":this.isTablet()?"tablet":"desktop"}static debounce(e,n){let t;return(...o)=>{clearTimeout(t),t=setTimeout(()=>e(...o),n)}}static throttle(e,n){let t;return(...o)=>{t||(e(...o),t=!0,setTimeout(()=>t=!1,n))}}static escapeHtml(e){const n=document.createElement("div");return n.textContent=e,n.innerHTML}static sanitizeHtml(e){const n=document.createElement("div");return n.innerHTML=e,n.textContent||n.innerText||""}}class t{static getInstance(){return t.instance||(t.instance=new t),t.instance}setCookie(e,n,t=365,o,a="/"){try{const i=new Date;i.setTime(i.getTime()+24*t*60*60*1e3);const r=[`${e}=${encodeURIComponent(n)}`,`expires=${i.toUTCString()}`,`path=${a}`,o?`domain=${o}`:"","SameSite=Lax","https:"===window.location.protocol?"Secure":""].filter(Boolean).join("; ");document.cookie=r}catch(e){console.warn("Failed to set cookie:",e)}}getCookie(e){try{const n=e+"=",t=document.cookie.split(";");for(let e=0;e<t.length;e++){let o=t[e];for(;" "===o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(n))return decodeURIComponent(o.substring(n.length,o.length))}return null}catch(e){return console.warn("Failed to get cookie:",e),null}}deleteCookie(e,n,t="/"){try{const o=[`${e}=`,"expires=Thu, 01 Jan 1970 00:00:00 GMT",`path=${t}`,n?`domain=${n}`:""].filter(Boolean).join("; ");document.cookie=o}catch(e){console.warn("Failed to delete cookie:",e)}}getAllCookies(){try{const e={},n=document.cookie.split(";");for(let t of n){const[n,o]=t.trim().split("=");n&&o&&(e[n]=decodeURIComponent(o))}return e}catch(e){return console.warn("Failed to get all cookies:",e),{}}}setConsentData(e,n,t=365){try{const o=JSON.stringify(n);this.setCookie(e,o,t)}catch(e){console.warn("Failed to set consent data:",e)}}getConsentData(e){try{const n=this.getCookie(e);if(!n)return null;const t=JSON.parse(n);return t.timestamp&&t.preferences&&t.complianceType?t:null}catch(e){return console.warn("Failed to get consent data:",e),null}}clearConsentData(e){this.deleteCookie(e)}isConsentExpired(e,n){return Date.now()>e.timestamp+24*n*60*60*1e3}getDomain(){try{return window.location.hostname}catch(e){return"localhost"}}getRootDomain(){try{const e=window.location.hostname,n=e.split(".");return n.length<=2?e:n.slice(-2).join(".")}catch(e){return"localhost"}}}class o{constructor(){this.cookieManager=t.getInstance()}generateConsentId(){return"consent_"+Math.random().toString(36).substr(2,9)+"_"+Date.now()}createConsentData(e,n,t={}){const o=this.generateConsentId();return{timestamp:Date.now(),version:"1.0.0",preferences:e,services:t,complianceType:n,consentId:o}}getDefaultPreferences(){return{necessary:!0,functional:!1,analytics:!1,advertising:!1,social:!1,other:!1}}validatePreferences(e){const n=this.getDefaultPreferences();return{necessary:!0,functional:e.functional??n.functional,analytics:e.analytics??n.analytics,advertising:e.advertising??n.advertising,social:e.social??n.social,other:e.other??n.other}}hasConsentForCategory(e,n){return!!e&&("necessary"===n||!0===e.preferences[n])}hasConsentForService(e,n){if(!e)return!1;return"granted"===e.services[n]}isConsentValid(e,n){return!!e&&!this.cookieManager.isConsentExpired(e,n)}mergeConsentData(e,n,t){const o=this.validatePreferences(n);return e&&this.isConsentValid(e,365)?{...e,timestamp:Date.now(),preferences:o,complianceType:t}:this.createConsentData(o,t)}getConsentSummary(e){if(!e)return{hasConsent:!1,categories:this.getDefaultPreferences(),totalServices:0,consentedServices:0};const n=Object.values(e.services),t=n.filter(e=>"granted"===e).length;return{hasConsent:!0,categories:e.preferences,totalServices:n.length,consentedServices:t}}isDPDPACompliant(e){if(!e||"DPDPA"!==e.complianceType)return!1;const{preferences:n}=e;return Object.entries(n).every(([e,n])=>"necessary"===e||void 0!==n)}isGDPRCompliant(e){if(!e||"GDPR"!==e.complianceType)return!1;const{preferences:n}=e;return Object.entries(n).every(([e,n])=>"necessary"===e||void 0!==n)}isCCPACompliant(e){return!(!e||"CCPA"!==e.complianceType)}getComplianceStatus(e){if(!e)return{isCompliant:!1,complianceType:null,issues:["No consent data found"]};const n=[];let t=!1;switch(e.complianceType){case"DPDPA":t=this.isDPDPACompliant(e),t||n.push("DPDPA compliance requirements not met");break;case"GDPR":t=this.isGDPRCompliant(e),t||n.push("GDPR compliance requirements not met");break;case"CCPA":t=this.isCCPACompliant(e),t||n.push("CCPA compliance requirements not met");break;default:n.push("Unknown compliance type")}return{isCompliant:t,complianceType:e.complianceType,issues:n}}}class a{constructor(e){this.bannerElement=null,this.isVisible=!1,this.config=e}create(){const e=n.createElement("div","redacto-banner");n.addClass(e,this.config.banner.position),this.applyBannerStyles(e);const t=this.createBannerContent();return n.appendChild(e,t),this.bannerElement=e,e}createBannerContent(){const e=n.createElement("div","redacto-banner-content");if(this.config.banner.showIcon){const t=this.createIcon();n.appendChild(e,t)}const t=this.createTextContent();n.appendChild(e,t);const o=this.createActionButtons();return n.appendChild(e,o),e}createIcon(){const e=n.createElement("div","redacto-banner-icon");return e.innerHTML='\n      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"/>\n      </svg>\n    ',e}createTextContent(){const e=n.createElement("div","redacto-banner-text"),t=n.createElement("h3","redacto-banner-title");t.textContent=this.config.texts.bannerTitle,n.appendChild(e,t);const o=n.createElement("p","redacto-banner-description");return o.textContent=this.config.texts.bannerDescription,n.appendChild(e,o),e}createActionButtons(){const e=n.createElement("div","redacto-banner-actions"),t=n.createButton(this.config.texts.acceptAllText,"redacto-banner-button primary",()=>this.onAcceptAll());n.appendChild(e,t);const o=n.createButton(this.config.texts.rejectAllText,"redacto-banner-button secondary",()=>this.onRejectAll());n.appendChild(e,o);const a=n.createButton(this.config.texts.managePreferencesText,"redacto-banner-button outline",()=>this.onManagePreferences());return n.appendChild(e,a),e}applyBannerStyles(e){const t={backgroundColor:this.config.banner.backgroundColor,color:this.config.banner.textColor,borderRadius:this.config.banner.borderRadius,fontSize:this.config.banner.fontSize,fontFamily:this.config.banner.fontFamily,padding:this.config.banner.padding,margin:this.config.banner.margin,zIndex:this.config.banner.zIndex.toString()};n.addStyles(e,t),this.applyButtonStyles(e)}applyButtonStyles(e){const t=e.querySelector(".redacto-banner-button.primary"),o=e.querySelector(".redacto-banner-button.secondary"),a=e.querySelector(".redacto-banner-button.outline");t&&n.addStyles(t,{backgroundColor:this.config.banner.acceptButtonColor,color:this.config.banner.acceptButtonTextColor}),o&&n.addStyles(o,{backgroundColor:this.config.banner.rejectButtonColor,color:this.config.banner.rejectButtonTextColor}),a&&n.addStyles(a,{color:this.config.banner.manageButtonTextColor,borderColor:this.config.banner.manageButtonTextColor})}show(){this.bannerElement||this.create(),this.bannerElement&&!this.isVisible&&(document.body.appendChild(this.bannerElement),this.isVisible=!0,"none"!==this.config.banner.animation&&this.animateIn(),this.config.onBannerShow&&this.config.onBannerShow())}hide(){this.bannerElement&&this.isVisible&&("none"!==this.config.banner.animation?this.animateOut(()=>{this.removeBanner()}):this.removeBanner())}removeBanner(){this.bannerElement&&this.bannerElement.parentNode&&(this.bannerElement.parentNode.removeChild(this.bannerElement),this.isVisible=!1,this.config.onBannerHide&&this.config.onBannerHide())}animateIn(){if(!this.bannerElement)return;const e=this.getAnimationClass("in");n.addClass(this.bannerElement,e),setTimeout(()=>{this.bannerElement&&n.removeClass(this.bannerElement,e)},this.config.banner.animationDuration)}animateOut(e){if(!this.bannerElement)return;const t=this.getAnimationClass("out");n.addClass(this.bannerElement,t),setTimeout(()=>{e()},this.config.banner.animationDuration)}getAnimationClass(e){const n=this.config.banner.position,t=this.config.banner.animation;if("in"===e)switch(t){case"slide":return"top"===n?"slideInDown":"slideInUp";case"fade":return"fadeIn";default:return""}else switch(t){case"slide":return"top"===n?"slideOutUp":"slideOutDown";case"fade":return"fadeOut";default:return""}}onAcceptAll(){this.triggerConsentChange({necessary:!0,functional:!0,analytics:!0,advertising:!0,social:!0,other:!0}),this.hide()}onRejectAll(){this.triggerConsentChange({necessary:!0,functional:!1,analytics:!1,advertising:!1,social:!1,other:!1}),this.hide()}onManagePreferences(){this.hide(),this.config.onModalShow&&this.config.onModalShow()}triggerConsentChange(e){if(this.config.onConsentChange){const n={timestamp:Date.now(),version:"1.0.0",preferences:e,services:{},complianceType:this.config.complianceType,consentId:"banner_"+Date.now()};this.config.onConsentChange(n)}}updateConfig(e){this.config={...this.config,...e},this.bannerElement&&(this.hide(),this.bannerElement=null,this.show())}destroy(){this.hide(),this.bannerElement=null}isBannerVisible(){return this.isVisible}}class i{constructor(e){this.modalElement=null,this.overlayElement=null,this.isVisible=!1,this.config=e,this.currentPreferences={necessary:!0,functional:!1,analytics:!1,advertising:!1,social:!1,other:!1}}create(){const e=n.createElement("div","redacto-modal-overlay");this.applyOverlayStyles(e);const t=n.createElement("div","redacto-modal");this.applyModalStyles(t);const o=this.createModalHeader(),a=this.createModalContent(),i=this.createModalFooter();return n.appendChild(t,o),n.appendChild(t,a),n.appendChild(t,i),n.appendChild(e,t),this.overlayElement=e,this.modalElement=t,e}createModalHeader(){const e=n.createElement("div","redacto-modal-header"),t=n.createElement("h2","redacto-modal-title");t.textContent=this.config.texts.modalTitle,n.appendChild(e,t);const o=n.createElement("p","redacto-modal-description");return o.textContent=this.config.texts.modalDescription,n.appendChild(e,o),e}createModalContent(){const e=n.createElement("div","redacto-modal-content");["necessary","functional","analytics","advertising","social","other"].forEach(t=>{const o=this.createCategorySection(t);n.appendChild(e,o)});const t=this.createLinksSection();return n.appendChild(e,t),e}createCategorySection(e){const t=n.createElement("div","redacto-category"),o=n.createElement("div","redacto-category-header"),a=n.createCheckbox(`category-${e}`,this.currentPreferences[e],"necessary"===e);n.addClass(a,"redacto-category-checkbox"),n.appendChild(o,a);const i=n.createElement("h4","redacto-category-title");i.textContent=this.getCategoryTitle(e),n.appendChild(o,i),n.appendChild(t,o);const r=n.createElement("p","redacto-category-description");r.textContent=this.getCategoryDescription(e),n.appendChild(t,r);const s=this.config.services.filter(n=>n.category===e);if(s.length>0){const e=this.createServicesSection(s);n.appendChild(t,e)}return a.addEventListener("change",n=>{const t=n.target;this.currentPreferences[e]=t.checked,this.updateServicesState(e,t.checked)}),t}createServicesSection(e){const t=n.createElement("div","redacto-services");return e.forEach(e=>{const o=n.createElement("div","redacto-service"),a=n.createCheckbox(`service-${e.id}`,this.currentPreferences[e.category]);n.addClass(a,"redacto-service-checkbox"),n.appendChild(o,a);const i=n.createElement("span","redacto-service-name");if(i.textContent=e.name,n.appendChild(o,i),e.description){const t=n.createElement("p","redacto-service-description");t.textContent=e.description,n.appendChild(o,t)}n.appendChild(t,o)}),t}createLinksSection(){const e=n.createElement("div","redacto-links");if(this.config.privacyUrl){const t=n.createLink(this.config.privacyUrl,this.config.texts.privacyPolicyText,"redacto-link","_blank");n.appendChild(e,t)}if(this.config.cookiePolicyUrl){const t=n.createLink(this.config.cookiePolicyUrl,this.config.texts.cookiePolicyText,"redacto-link","_blank");n.appendChild(e,t)}return e}createModalFooter(){const e=n.createElement("div","redacto-modal-footer"),t=n.createButton(this.config.texts.savePreferencesText,"redacto-banner-button primary",()=>this.onSavePreferences());n.appendChild(e,t);const o=n.createButton("Cancel","redacto-banner-button outline",()=>this.hide());return n.appendChild(e,o),e}applyOverlayStyles(e){const t={backgroundColor:this.config.modal.overlayColor,zIndex:this.config.modal.zIndex.toString()};n.addStyles(e,t)}applyModalStyles(e){const t={backgroundColor:this.config.modal.backgroundColor,color:this.config.modal.textColor,borderRadius:this.config.modal.borderRadius,fontSize:this.config.modal.fontSize,fontFamily:this.config.modal.fontFamily,padding:this.config.modal.padding,maxWidth:this.config.modal.maxWidth,maxHeight:this.config.modal.maxHeight};n.addStyles(e,t)}getCategoryTitle(e){switch(e){case"necessary":return this.config.texts.necessaryTitle;case"functional":return this.config.texts.functionalTitle;case"analytics":return this.config.texts.analyticsTitle;case"advertising":return this.config.texts.advertisingTitle;case"social":return this.config.texts.socialTitle;case"other":return this.config.texts.otherTitle;default:return e.charAt(0).toUpperCase()+e.slice(1)}}getCategoryDescription(e){switch(e){case"necessary":return this.config.texts.necessaryDescription;case"functional":return this.config.texts.functionalDescription;case"analytics":return this.config.texts.analyticsDescription;case"advertising":return this.config.texts.advertisingDescription;case"social":return this.config.texts.socialDescription;case"other":return this.config.texts.otherDescription;default:return`Description for ${e} cookies.`}}updateServicesState(e,n){const t=this.modalElement?.querySelectorAll('.redacto-service input[type="checkbox"]');t?.forEach(t=>{const o=t;if(o.id.startsWith("service-")){const t=o.id.replace("service-",""),a=this.config.services.find(e=>e.id===t);a&&a.category===e&&(o.checked=n)}})}show(e){this.overlayElement||this.create(),this.overlayElement&&!this.isVisible&&(e&&(this.currentPreferences={...e},this.updateCheckboxes()),document.body.appendChild(this.overlayElement),this.isVisible=!0,"none"!==this.config.modal.animation&&this.animateIn(),this.config.onModalShow&&this.config.onModalShow())}hide(){this.overlayElement&&this.isVisible&&("none"!==this.config.modal.animation?this.animateOut(()=>{this.removeModal()}):this.removeModal())}removeModal(){this.overlayElement&&this.overlayElement.parentNode&&(this.overlayElement.parentNode.removeChild(this.overlayElement),this.isVisible=!1,this.config.onModalHide&&this.config.onModalHide())}animateIn(){if(!this.overlayElement||!this.modalElement)return;const e=this.getAnimationClass("in");n.addClass(this.overlayElement,e),n.addClass(this.modalElement,e),setTimeout(()=>{this.overlayElement&&n.removeClass(this.overlayElement,e),this.modalElement&&n.removeClass(this.modalElement,e)},this.config.modal.animationDuration)}animateOut(e){if(!this.overlayElement||!this.modalElement)return;const t=this.getAnimationClass("out");n.addClass(this.overlayElement,t),n.addClass(this.modalElement,t),setTimeout(()=>{e()},this.config.modal.animationDuration)}getAnimationClass(e){const n=this.config.modal.animation;if("in"===e)switch(n){case"slide":return"slideInUp";case"fade":return"fadeIn";case"scale":return"scaleIn";default:return""}else switch(n){case"slide":return"slideOutDown";case"fade":return"fadeOut";case"scale":return"scaleOut";default:return""}}updateCheckboxes(){Object.entries(this.currentPreferences).forEach(([e,n])=>{const t=this.overlayElement?.querySelector(`#category-${e}`);t&&(t.checked=n)})}onSavePreferences(){const e={necessary:!0,functional:!1,analytics:!1,advertising:!1,social:!1,other:!1};if(Object.keys(e).forEach(n=>{if("necessary"!==n){const t=this.overlayElement?.querySelector(`#category-${n}`);t&&(e[n]=t.checked)}}),this.config.onConsentChange){const n={timestamp:Date.now(),version:"1.0.0",preferences:e,services:{},complianceType:this.config.complianceType,consentId:"modal_"+Date.now()};this.config.onConsentChange(n)}this.hide()}updateConfig(e){this.config={...this.config,...e},this.overlayElement&&(this.hide(),this.overlayElement=null,this.modalElement=null,this.show(this.currentPreferences))}destroy(){this.hide(),this.overlayElement=null,this.modalElement=null}isModalVisible(){return this.isVisible}}const r={position:"bottom",primaryColor:"#3b82f6",backgroundColor:"#ffffff",textColor:"#374151",acceptButtonColor:"#3b82f6",acceptButtonTextColor:"#ffffff",rejectButtonColor:"#6b7280",rejectButtonTextColor:"#ffffff",manageButtonColor:"transparent",manageButtonTextColor:"#3b82f6",borderRadius:"8px",fontSize:"14px",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',padding:"16px",margin:"16px",zIndex:999999,showIcon:!0,iconPosition:"left",animation:"slide",animationDuration:300},s={backgroundColor:"#ffffff",overlayColor:"rgba(0, 0, 0, 0.5)",textColor:"#374151",primaryColor:"#3b82f6",secondaryColor:"#6b7280",borderRadius:"12px",fontSize:"14px",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',padding:"24px",maxWidth:"600px",maxHeight:"80vh",zIndex:1e6,animation:"scale",animationDuration:300},c={bannerTitle:"Cookie Consent",bannerDescription:'We use cookies to enhance your browsing experience, serve personalized content, and analyze our traffic. By clicking "Accept All", you consent to our use of cookies.',acceptAllText:"Accept All",rejectAllText:"Reject All",managePreferencesText:"Manage Preferences",modalTitle:"Cookie Preferences",modalDescription:"We use cookies to enhance your browsing experience, serve personalized content, and analyze our traffic. You can choose which categories of cookies to allow.",necessaryTitle:"Necessary Cookies",necessaryDescription:"These cookies are essential for the website to function properly. They cannot be disabled.",functionalTitle:"Functional Cookies",functionalDescription:"These cookies enable enhanced functionality and personalization, such as remembering your preferences.",analyticsTitle:"Analytics Cookies",analyticsDescription:"These cookies help us understand how visitors interact with our website by collecting and reporting information anonymously.",advertisingTitle:"Advertising Cookies",advertisingDescription:"These cookies are used to deliver advertisements more relevant to you and your interests.",socialTitle:"Social Media Cookies",socialDescription:"These cookies are set by social media services that we have added to the site to enable you to share our content.",otherTitle:"Other Cookies",otherDescription:"These are cookies that have not been categorized yet.",savePreferencesText:"Save Preferences",privacyPolicyText:"Privacy Policy",cookiePolicyText:"Cookie Policy",poweredByText:"Powered by Redacto"},l=[{id:"google-analytics",name:"Google Analytics",category:"analytics",description:"Google Analytics helps us understand how visitors interact with our website.",cookies:["_ga","_ga_*","_gid","_gat"],purpose:"Website analytics and performance measurement",retention:"2 years",thirdParty:!0,thirdPartyName:"Google LLC",thirdPartyUrl:"https://policies.google.com/privacy"},{id:"google-tag-manager",name:"Google Tag Manager",category:"analytics",description:"Google Tag Manager helps us manage and deploy marketing and analytics tags.",cookies:["_gtm","_gtag"],purpose:"Tag management and analytics",retention:"2 years",thirdParty:!0,thirdPartyName:"Google LLC",thirdPartyUrl:"https://policies.google.com/privacy"}];const d=new class{constructor(){this.isInitialized=!1,this.consentData=null,this.config=((e="DPDPA")=>({complianceType:e,cookieName:"redacto-consent",privacyUrl:"",cookiePolicyUrl:"",dataProcessorUrl:"",banner:r,modal:s,texts:c,services:l,showBannerOnFirstVisit:!0,showBannerOnConsentChange:!1,autoHideBanner:!1,autoHideDelay:0,rememberConsent:!0,consentExpiry:365,enableGoogleConsentMode:!0,enableBingConsentMode:!1,enableDataLayer:!1,dataLayerName:"dataLayer",enableSoftConsent:!1,enableDoNotTrack:!1,debug:!1}))(),this.cookieManager=t.getInstance(),this.consentUtils=new o,this.banner=new a(this.config),this.modal=new i(this.config),this.injectStyles(),this.setupEventListeners()}init(e={}){try{this.config={...this.config,...e},this.banner.updateConfig(this.config),this.modal.updateConfig(this.config),this.loadConsentData(),this.checkConsentStatus(),this.isInitialized=!0,this.config.debug&&console.log("Redacto Cookie Consent initialized:",this.config)}catch(e){console.error("Failed to initialize Redacto Cookie Consent:",e)}}injectStyles(){n.injectCSS("\n      /* Redacto Cookie Consent Widget Styles */\n      .redacto-consent-widget {\n        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;\n        font-size: 14px;\n        line-height: 1.5;\n        color: #374151;\n        box-sizing: border-box;\n      }\n      .redacto-consent-widget * {\n        box-sizing: border-box;\n      }\n      \n      /* Banner Styles */\n      .redacto-banner {\n        position: fixed;\n        left: 0;\n        right: 0;\n        z-index: 999999;\n        background: #ffffff;\n        border: 1px solid #e5e7eb;\n        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);\n        padding: 16px;\n        margin: 16px;\n        border-radius: 8px;\n        max-width: calc(100% - 32px);\n        animation: slideInUp 0.3s ease-out;\n      }\n      \n      .redacto-banner.top {\n        top: 0;\n        bottom: auto;\n      }\n      \n      .redacto-banner.bottom {\n        bottom: 0;\n        top: auto;\n      }\n      \n      .redacto-banner.center {\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n        bottom: auto;\n        right: auto;\n        max-width: 600px;\n        width: calc(100% - 32px);\n      }\n      \n      .redacto-banner-content {\n        display: flex;\n        align-items: flex-start;\n        gap: 16px;\n        flex-wrap: wrap;\n      }\n      \n      .redacto-banner-icon {\n        flex-shrink: 0;\n        width: 24px;\n        height: 24px;\n        margin-top: 2px;\n      }\n      \n      .redacto-banner-text {\n        flex: 1;\n        min-width: 0;\n      }\n      \n      .redacto-banner-title {\n        font-size: 16px;\n        font-weight: 600;\n        margin: 0 0 8px 0;\n        color: #111827;\n      }\n      \n      .redacto-banner-description {\n        font-size: 14px;\n        margin: 0 0 16px 0;\n        color: #6b7280;\n        line-height: 1.5;\n      }\n      \n      .redacto-banner-actions {\n        display: flex;\n        gap: 12px;\n        flex-wrap: wrap;\n        align-items: center;\n      }\n      \n      .redacto-banner-button {\n        padding: 8px 16px;\n        border-radius: 6px;\n        font-size: 14px;\n        font-weight: 500;\n        border: none;\n        cursor: pointer;\n        transition: all 0.2s ease;\n        text-decoration: none;\n        display: inline-flex;\n        align-items: center;\n        justify-content: center;\n        min-height: 36px;\n        white-space: nowrap;\n      }\n      \n      .redacto-banner-button:hover {\n        transform: translateY(-1px);\n        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n      }\n      \n      .redacto-banner-button:active {\n        transform: translateY(0);\n      }\n      \n      .redacto-banner-button.primary {\n        background: #3b82f6;\n        color: #ffffff;\n      }\n      \n      .redacto-banner-button.primary:hover {\n        background: #2563eb;\n      }\n      \n      .redacto-banner-button.secondary {\n        background: #6b7280;\n        color: #ffffff;\n      }\n      \n      .redacto-banner-button.secondary:hover {\n        background: #4b5563;\n      }\n      \n      .redacto-banner-button.outline {\n        background: transparent;\n        color: #3b82f6;\n        border: 1px solid #3b82f6;\n      }\n      \n      .redacto-banner-button.outline:hover {\n        background: #3b82f6;\n        color: #ffffff;\n      }\n      \n      /* Modal Styles */\n      .redacto-modal-overlay {\n        position: fixed;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        background: rgba(0, 0, 0, 0.5);\n        z-index: 1000000;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        padding: 16px;\n        animation: fadeIn 0.3s ease-out;\n      }\n      \n      .redacto-modal {\n        background: #ffffff;\n        border-radius: 12px;\n        box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);\n        max-width: 600px;\n        max-height: 80vh;\n        width: 100%;\n        overflow: hidden;\n        animation: scaleIn 0.3s ease-out;\n      }\n      \n      .redacto-modal-header {\n        padding: 24px 24px 0 24px;\n        border-bottom: 1px solid #e5e7eb;\n      }\n      \n      .redacto-modal-title {\n        font-size: 20px;\n        font-weight: 600;\n        margin: 0 0 8px 0;\n        color: #111827;\n      }\n      \n      .redacto-modal-description {\n        font-size: 14px;\n        margin: 0 0 24px 0;\n        color: #6b7280;\n        line-height: 1.5;\n      }\n      \n      .redacto-modal-content {\n        padding: 24px;\n        max-height: 60vh;\n        overflow-y: auto;\n      }\n      \n      .redacto-modal-footer {\n        padding: 0 24px 24px 24px;\n        border-top: 1px solid #e5e7eb;\n        display: flex;\n        gap: 12px;\n        justify-content: flex-end;\n        flex-wrap: wrap;\n      }\n      \n      /* Category Styles */\n      .redacto-category {\n        margin-bottom: 24px;\n        padding: 16px;\n        border: 1px solid #e5e7eb;\n        border-radius: 8px;\n        background: #f9fafb;\n      }\n      \n      .redacto-category-header {\n        display: flex;\n        align-items: center;\n        gap: 12px;\n        margin-bottom: 8px;\n      }\n      \n      .redacto-category-checkbox {\n        width: 18px;\n        height: 18px;\n        accent-color: #3b82f6;\n      }\n      \n      .redacto-category-checkbox:disabled {\n        opacity: 0.5;\n        cursor: not-allowed;\n      }\n      \n      .redacto-category-title {\n        font-size: 16px;\n        font-weight: 600;\n        margin: 0;\n        color: #111827;\n      }\n      \n      .redacto-category-description {\n        font-size: 14px;\n        margin: 0 0 12px 0;\n        color: #6b7280;\n        line-height: 1.5;\n      }\n      \n      .redacto-category-details {\n        font-size: 12px;\n        color: #9ca3af;\n        margin: 0;\n      }\n      \n      /* Services Styles */\n      .redacto-services {\n        margin-top: 12px;\n      }\n      \n      .redacto-service {\n        display: flex;\n        align-items: center;\n        gap: 8px;\n        padding: 8px 0;\n        border-bottom: 1px solid #e5e7eb;\n      }\n      \n      .redacto-service:last-child {\n        border-bottom: none;\n      }\n      \n      .redacto-service-checkbox {\n        width: 16px;\n        height: 16px;\n        accent-color: #3b82f6;\n      }\n      \n      .redacto-service-name {\n        font-size: 14px;\n        font-weight: 500;\n        color: #374151;\n      }\n      \n      .redacto-service-description {\n        font-size: 12px;\n        color: #6b7280;\n        margin-left: 24px;\n      }\n      \n      /* Links */\n      .redacto-links {\n        display: flex;\n        gap: 16px;\n        margin-top: 16px;\n        flex-wrap: wrap;\n      }\n      \n      .redacto-link {\n        color: #3b82f6;\n        text-decoration: none;\n        font-size: 14px;\n      }\n      \n      .redacto-link:hover {\n        text-decoration: underline;\n      }\n      \n      /* Powered by */\n      .redacto-powered-by {\n        text-align: center;\n        font-size: 12px;\n        color: #9ca3af;\n        margin-top: 16px;\n        padding-top: 16px;\n        border-top: 1px solid #e5e7eb;\n      }\n      \n      /* Animations */\n      @keyframes slideInUp {\n        from {\n          transform: translateY(100%);\n          opacity: 0;\n        }\n        to {\n          transform: translateY(0);\n          opacity: 1;\n        }\n      }\n      \n      @keyframes slideInDown {\n        from {\n          transform: translateY(-100%);\n          opacity: 0;\n        }\n        to {\n          transform: translateY(0);\n          opacity: 1;\n        }\n      }\n      \n      @keyframes fadeIn {\n        from {\n          opacity: 0;\n        }\n        to {\n          opacity: 1;\n        }\n      }\n      \n      @keyframes scaleIn {\n        from {\n          transform: scale(0.9);\n          opacity: 0;\n        }\n        to {\n          transform: scale(1);\n          opacity: 1;\n        }\n      }\n      \n      @keyframes slideOutDown {\n        from {\n          transform: translateY(0);\n          opacity: 1;\n        }\n        to {\n          transform: translateY(100%);\n          opacity: 0;\n        }\n      }\n      \n      @keyframes slideOutUp {\n        from {\n          transform: translateY(0);\n          opacity: 1;\n        }\n        to {\n          transform: translateY(-100%);\n          opacity: 0;\n        }\n      }\n      \n      @keyframes fadeOut {\n        from {\n          opacity: 1;\n        }\n        to {\n          opacity: 0;\n        }\n      }\n      \n      @keyframes scaleOut {\n        from {\n          transform: scale(1);\n          opacity: 1;\n        }\n        to {\n          transform: scale(0.9);\n          opacity: 0;\n        }\n      }\n      \n      /* Responsive Design */\n      @media (max-width: 768px) {\n        .redacto-banner {\n          margin: 8px;\n          padding: 12px;\n          max-width: calc(100% - 16px);\n        }\n        \n        .redacto-banner-content {\n          flex-direction: column;\n          gap: 12px;\n        }\n        \n        .redacto-banner-actions {\n          width: 100%;\n          justify-content: stretch;\n        }\n        \n        .redacto-banner-button {\n          flex: 1;\n          min-width: 0;\n        }\n        \n        .redacto-modal {\n          margin: 16px;\n          max-height: calc(100vh - 32px);\n        }\n        \n        .redacto-modal-content {\n          max-height: calc(100vh - 200px);\n        }\n        \n        .redacto-modal-footer {\n          flex-direction: column;\n        }\n        \n        .redacto-modal-footer .redacto-banner-button {\n          width: 100%;\n        }\n      }\n      \n      /* Dark mode support */\n      @media (prefers-color-scheme: dark) {\n        .redacto-banner {\n          background: #1f2937;\n          border-color: #374151;\n          color: #f9fafb;\n        }\n        \n        .redacto-banner-title {\n          color: #f9fafb;\n        }\n        \n        .redacto-banner-description {\n          color: #d1d5db;\n        }\n        \n        .redacto-modal {\n          background: #1f2937;\n          color: #f9fafb;\n        }\n        \n        .redacto-modal-title {\n          color: #f9fafb;\n        }\n        \n        .redacto-modal-description {\n          color: #d1d5db;\n        }\n        \n        .redacto-category {\n          background: #111827;\n          border-color: #374151;\n        }\n        \n        .redacto-category-title {\n          color: #f9fafb;\n        }\n        \n        .redacto-category-description {\n          color: #d1d5db;\n        }\n        \n        .redacto-service-name {\n          color: #f9fafb;\n        }\n        \n        .redacto-service-description {\n          color: #d1d5db;\n        }\n      }\n      \n      /* High contrast mode */\n      @media (prefers-contrast: high) {\n        .redacto-banner {\n          border-width: 2px;\n        }\n        \n        .redacto-banner-button {\n          border-width: 2px;\n        }\n        \n        .redacto-category {\n          border-width: 2px;\n        }\n      }\n      \n      /* Reduced motion */\n      @media (prefers-reduced-motion: reduce) {\n        .redacto-banner,\n        .redacto-modal-overlay,\n        .redacto-modal {\n          animation: none;\n        }\n        \n        .redacto-banner-button {\n          transition: none;\n        }\n      }\n    ","redacto-consent-styles")}setupEventListeners(){this.config.onModalShow=()=>{this.showModal()},this.config.onConsentChange=e=>{this.handleConsentChange(e)}}loadConsentData(){this.consentData=this.cookieManager.getConsentData(this.config.cookieName),this.consentData&&this.consentUtils.isConsentValid(this.consentData,this.config.consentExpiry)?this.config.debug&&console.log("Loaded existing consent data:",this.consentData):(this.consentData=null,this.config.debug&&console.log("No valid consent data found"))}checkConsentStatus(){(!this.consentData&&this.config.showBannerOnFirstVisit||this.consentData&&this.config.showBannerOnConsentChange)&&this.showBanner()}handleConsentChange(e){this.consentData=e,this.config.rememberConsent&&this.cookieManager.setConsentData(this.config.cookieName,e,this.config.consentExpiry),this.config.enableGoogleConsentMode&&this.updateGoogleConsentMode(e),this.config.enableBingConsentMode&&this.updateBingConsentMode(e),this.config.enableDataLayer&&this.updateDataLayer(e),this.executeServiceScripts(e),this.config.debug&&console.log("Consent changed:",e)}updateGoogleConsentMode(e){try{if("undefined"!=typeof window&&window.gtag){(0,window.gtag)("consent","update",{ad_storage:e.preferences.advertising?"granted":"denied",analytics_storage:e.preferences.analytics?"granted":"denied",functionality_storage:e.preferences.functional?"granted":"denied",personalization_storage:e.preferences.functional?"granted":"denied",security_storage:"granted"})}}catch(e){console.warn("Failed to update Google Consent Mode:",e)}}updateBingConsentMode(e){try{if("undefined"!=typeof window&&window.uetq){(0,window.uetq)("consent",e.preferences.advertising?"granted":"denied")}}catch(e){console.warn("Failed to update Bing Consent Mode:",e)}}updateDataLayer(e){try{if("undefined"!=typeof window){(window[this.config.dataLayerName]||[]).push({event:"consent_update",consent_data:e})}}catch(e){console.warn("Failed to update data layer:",e)}}executeServiceScripts(e){this.config.services.forEach(n=>{const t=this.consentUtils.hasConsentForCategory(e,n.category);if(t&&n.onAccept)try{n.onAccept()}catch(e){console.warn(`Failed to execute onAccept for service ${n.id}:`,e)}else if(!t&&n.onReject)try{n.onReject()}catch(e){console.warn(`Failed to execute onReject for service ${n.id}:`,e)}})}showBanner(){this.banner.show()}hideBanner(){this.banner.hide()}showModal(){const e=this.consentData?.preferences||this.consentUtils.getDefaultPreferences();this.modal.show(e)}hideModal(){this.modal.hide()}acceptAll(){const e=this.consentUtils.createConsentData({necessary:!0,functional:!0,analytics:!0,advertising:!0,social:!0,other:!0},this.config.complianceType);this.handleConsentChange(e)}rejectAll(){const e=this.consentUtils.createConsentData({necessary:!0,functional:!1,analytics:!1,advertising:!1,social:!1,other:!1},this.config.complianceType);this.handleConsentChange(e)}savePreferences(e){const n=this.consentUtils.validatePreferences(e),t=this.consentUtils.mergeConsentData(this.consentData,n,this.config.complianceType);this.handleConsentChange(t)}getConsent(){return this.consentData}hasConsent(e){return this.consentUtils.hasConsentForCategory(this.consentData,e)}hasServiceConsent(e){return this.consentUtils.hasConsentForService(this.consentData,e)}resetConsent(){this.cookieManager.clearConsentData(this.config.cookieName),this.consentData=null,this.config.showBannerOnConsentChange&&this.showBanner()}destroy(){this.banner.destroy(),this.modal.destroy(),n.removeStyleSheet("redacto-consent-styles"),this.isInitialized=!1}};return"undefined"!=typeof window&&(window.redacto=d),"undefined"!=typeof window&&document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector("script[data-redacto-config]");if(e)try{const n=e.getAttribute("data-redacto-config");if(n){const e=JSON.parse(n);d.init(e)}}catch(e){console.warn("Failed to parse Redacto config from data attribute:",e)}}),e.default=d,e.redacto=d,Object.defineProperty(e,"__esModule",{value:!0}),e}({});
//# sourceMappingURL=redacto-cookie-consent.min.js.map
