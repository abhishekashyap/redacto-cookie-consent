{"version":3,"file":"redacto-cookie-consent.js","sources":["../src/utils/dom.ts","../src/utils/cookies.ts","../src/utils/consent.ts","../src/components/Banner.ts","../src/components/Modal.ts","../src/config/defaults.ts","../src/ConsentManager.ts","../src/index.ts"],"sourcesContent":["export class DOMUtils {\n  static createElement(\n    tag: string,\n    className?: string,\n    id?: string\n  ): HTMLElement {\n    const element = document.createElement(tag);\n    if (className) element.className = className;\n    if (id) element.id = id;\n    return element;\n  }\n\n  static createButton(\n    text: string,\n    className?: string,\n    onClick?: () => void\n  ): HTMLButtonElement {\n    const button = document.createElement(\"button\");\n    button.textContent = text;\n    if (className) button.className = className;\n    if (onClick) button.addEventListener(\"click\", onClick);\n    return button;\n  }\n\n  static createDiv(className?: string, content?: string): HTMLDivElement {\n    const div = document.createElement(\"div\");\n    if (className) div.className = className;\n    if (content) div.innerHTML = content;\n    return div;\n  }\n\n  static createSpan(className?: string, content?: string): HTMLSpanElement {\n    const span = document.createElement(\"span\");\n    if (className) span.className = className;\n    if (content) span.textContent = content;\n    return span;\n  }\n\n  static createParagraph(\n    className?: string,\n    content?: string\n  ): HTMLParagraphElement {\n    const p = document.createElement(\"p\");\n    if (className) p.className = className;\n    if (content) p.textContent = content;\n    return p;\n  }\n\n  static createHeading(\n    level: 1 | 2 | 3 | 4 | 5 | 6,\n    className?: string,\n    content?: string\n  ): HTMLHeadingElement {\n    const heading = document.createElement(`h${level}`);\n    if (className) heading.className = className;\n    if (content) heading.textContent = content;\n    return heading;\n  }\n\n  static createLink(\n    href: string,\n    text: string,\n    className?: string,\n    target?: string\n  ): HTMLAnchorElement {\n    const link = document.createElement(\"a\");\n    link.href = href;\n    link.textContent = text;\n    if (className) link.className = className;\n    if (target) link.target = target;\n    return link;\n  }\n\n  static createCheckbox(\n    id: string,\n    checked: boolean = false,\n    disabled: boolean = false\n  ): HTMLInputElement {\n    const checkbox = document.createElement(\"input\");\n    checkbox.type = \"checkbox\";\n    checkbox.id = id;\n    checkbox.checked = checked;\n    checkbox.disabled = disabled;\n    return checkbox;\n  }\n\n  static createLabel(\n    forId: string,\n    text: string,\n    className?: string\n  ): HTMLLabelElement {\n    const label = document.createElement(\"label\");\n    label.htmlFor = forId;\n    label.textContent = text;\n    if (className) label.className = className;\n    return label;\n  }\n\n  static addStyles(element: HTMLElement, styles: Record<string, string>): void {\n    Object.assign(element.style, styles);\n  }\n\n  static addClass(element: HTMLElement, className: string): void {\n    element.classList.add(className);\n  }\n\n  static removeClass(element: HTMLElement, className: string): void {\n    element.classList.remove(className);\n  }\n\n  static toggleClass(element: HTMLElement, className: string): void {\n    element.classList.toggle(className);\n  }\n\n  static hasClass(element: HTMLElement, className: string): boolean {\n    return element.classList.contains(className);\n  }\n\n  static show(element: HTMLElement): void {\n    element.style.display = \"block\";\n  }\n\n  static hide(element: HTMLElement): void {\n    element.style.display = \"none\";\n  }\n\n  static isVisible(element: HTMLElement): boolean {\n    return element.style.display !== \"none\" && element.offsetParent !== null;\n  }\n\n  static getElementById(id: string): HTMLElement | null {\n    return document.getElementById(id);\n  }\n\n  static getElementsByClassName(className: string): HTMLCollectionOf<Element> {\n    return document.getElementsByClassName(className);\n  }\n\n  static querySelector(selector: string): Element | null {\n    return document.querySelector(selector);\n  }\n\n  static querySelectorAll(selector: string): NodeListOf<Element> {\n    return document.querySelectorAll(selector);\n  }\n\n  static appendChild(parent: HTMLElement, child: HTMLElement): void {\n    parent.appendChild(child);\n  }\n\n  static removeChild(parent: HTMLElement, child: HTMLElement): void {\n    if (parent.contains(child)) {\n      parent.removeChild(child);\n    }\n  }\n\n  static insertBefore(\n    parent: HTMLElement,\n    newChild: HTMLElement,\n    referenceChild: HTMLElement\n  ): void {\n    parent.insertBefore(newChild, referenceChild);\n  }\n\n  static replaceChild(\n    parent: HTMLElement,\n    newChild: HTMLElement,\n    oldChild: HTMLElement\n  ): void {\n    parent.replaceChild(newChild, oldChild);\n  }\n\n  static addEventListener(\n    element: HTMLElement,\n    event: string,\n    handler: EventListener\n  ): void {\n    element.addEventListener(event, handler);\n  }\n\n  static removeEventListener(\n    element: HTMLElement,\n    event: string,\n    handler: EventListener\n  ): void {\n    element.removeEventListener(event, handler);\n  }\n\n  static createStyleSheet(css: string): HTMLStyleElement {\n    const style = document.createElement(\"style\");\n    style.textContent = css;\n    return style;\n  }\n\n  static injectCSS(css: string, id?: string): HTMLStyleElement {\n    const style = this.createStyleSheet(css);\n    if (id) style.id = id;\n    document.head.appendChild(style);\n    return style;\n  }\n\n  static removeStyleSheet(id: string): void {\n    const style = document.getElementById(id) as HTMLStyleElement;\n    if (style) {\n      style.remove();\n    }\n  }\n\n  static getViewportSize(): { width: number; height: number } {\n    return {\n      width: window.innerWidth || document.documentElement.clientWidth,\n      height: window.innerHeight || document.documentElement.clientHeight,\n    };\n  }\n\n  static isMobile(): boolean {\n    return window.innerWidth <= 768;\n  }\n\n  static isTablet(): boolean {\n    return window.innerWidth > 768 && window.innerWidth <= 1024;\n  }\n\n  static isDesktop(): boolean {\n    return window.innerWidth > 1024;\n  }\n\n  static getDeviceType(): \"mobile\" | \"tablet\" | \"desktop\" {\n    if (this.isMobile()) return \"mobile\";\n    if (this.isTablet()) return \"tablet\";\n    return \"desktop\";\n  }\n\n  static debounce<T extends (...args: any[]) => any>(\n    func: T,\n    wait: number\n  ): (...args: Parameters<T>) => void {\n    let timeout: NodeJS.Timeout;\n    return (...args: Parameters<T>) => {\n      clearTimeout(timeout);\n      timeout = setTimeout(() => func(...args), wait);\n    };\n  }\n\n  static throttle<T extends (...args: any[]) => any>(\n    func: T,\n    limit: number\n  ): (...args: Parameters<T>) => void {\n    let inThrottle: boolean;\n    return (...args: Parameters<T>) => {\n      if (!inThrottle) {\n        func(...args);\n        inThrottle = true;\n        setTimeout(() => (inThrottle = false), limit);\n      }\n    };\n  }\n\n  static escapeHtml(text: string): string {\n    const div = document.createElement(\"div\");\n    div.textContent = text;\n    return div.innerHTML;\n  }\n\n  static sanitizeHtml(html: string): string {\n    const div = document.createElement(\"div\");\n    div.innerHTML = html;\n    return div.textContent || div.innerText || \"\";\n  }\n}\n","import { ConsentData } from \"../types\";\n\nexport class CookieManager {\n  private static instance: CookieManager;\n\n  static getInstance(): CookieManager {\n    if (!CookieManager.instance) {\n      CookieManager.instance = new CookieManager();\n    }\n    return CookieManager.instance;\n  }\n\n  setCookie(\n    name: string,\n    value: string,\n    days: number = 365,\n    domain?: string,\n    path: string = \"/\"\n  ): void {\n    try {\n      const expires = new Date();\n      expires.setTime(expires.getTime() + days * 24 * 60 * 60 * 1000);\n\n      const cookieString = [\n        `${name}=${encodeURIComponent(value)}`,\n        `expires=${expires.toUTCString()}`,\n        `path=${path}`,\n        domain ? `domain=${domain}` : \"\",\n        \"SameSite=Lax\",\n        window.location.protocol === \"https:\" ? \"Secure\" : \"\",\n      ]\n        .filter(Boolean)\n        .join(\"; \");\n\n      document.cookie = cookieString;\n    } catch (error) {\n      console.warn(\"Failed to set cookie:\", error);\n    }\n  }\n\n  getCookie(name: string): string | null {\n    try {\n      const nameEQ = name + \"=\";\n      const ca = document.cookie.split(\";\");\n\n      for (let i = 0; i < ca.length; i++) {\n        let c = ca[i];\n        while (c.charAt(0) === \" \") c = c.substring(1, c.length);\n        if (c.indexOf(nameEQ) === 0) {\n          return decodeURIComponent(c.substring(nameEQ.length, c.length));\n        }\n      }\n      return null;\n    } catch (error) {\n      console.warn(\"Failed to get cookie:\", error);\n      return null;\n    }\n  }\n\n  deleteCookie(name: string, domain?: string, path: string = \"/\"): void {\n    try {\n      const cookieString = [\n        `${name}=`,\n        \"expires=Thu, 01 Jan 1970 00:00:00 GMT\",\n        `path=${path}`,\n        domain ? `domain=${domain}` : \"\",\n      ]\n        .filter(Boolean)\n        .join(\"; \");\n\n      document.cookie = cookieString;\n    } catch (error) {\n      console.warn(\"Failed to delete cookie:\", error);\n    }\n  }\n\n  getAllCookies(): Record<string, string> {\n    try {\n      const cookies: Record<string, string> = {};\n      const cookieArray = document.cookie.split(\";\");\n\n      for (let cookie of cookieArray) {\n        const [name, value] = cookie.trim().split(\"=\");\n        if (name && value) {\n          cookies[name] = decodeURIComponent(value);\n        }\n      }\n\n      return cookies;\n    } catch (error) {\n      console.warn(\"Failed to get all cookies:\", error);\n      return {};\n    }\n  }\n\n  setConsentData(\n    cookieName: string,\n    consentData: ConsentData,\n    expiryDays: number = 365\n  ): void {\n    try {\n      const consentString = JSON.stringify(consentData);\n      this.setCookie(cookieName, consentString, expiryDays);\n    } catch (error) {\n      console.warn(\"Failed to set consent data:\", error);\n    }\n  }\n\n  getConsentData(cookieName: string): ConsentData | null {\n    try {\n      const consentString = this.getCookie(cookieName);\n      if (!consentString) return null;\n\n      const consentData = JSON.parse(consentString) as ConsentData;\n\n      // Validate consent data structure\n      if (\n        !consentData.timestamp ||\n        !consentData.preferences ||\n        !consentData.complianceType\n      ) {\n        return null;\n      }\n\n      return consentData;\n    } catch (error) {\n      console.warn(\"Failed to get consent data:\", error);\n      return null;\n    }\n  }\n\n  clearConsentData(cookieName: string): void {\n    this.deleteCookie(cookieName);\n  }\n\n  isConsentExpired(consentData: ConsentData, expiryDays: number): boolean {\n    const now = Date.now();\n    const consentTime = consentData.timestamp;\n    const expiryTime = consentTime + expiryDays * 24 * 60 * 60 * 1000;\n\n    return now > expiryTime;\n  }\n\n  getDomain(): string {\n    try {\n      return window.location.hostname;\n    } catch (error) {\n      return \"localhost\";\n    }\n  }\n\n  getRootDomain(): string {\n    try {\n      const hostname = window.location.hostname;\n      const parts = hostname.split(\".\");\n\n      if (parts.length <= 2) {\n        return hostname;\n      }\n\n      return parts.slice(-2).join(\".\");\n    } catch (error) {\n      return \"localhost\";\n    }\n  }\n}\n","import {\n  ConsentData,\n  ConsentPreferences,\n  CookieCategory,\n  ComplianceType,\n} from \"../types\";\nimport { CookieManager } from \"./cookies\";\n\nexport class ConsentManager {\n  private cookieManager: CookieManager;\n\n  constructor() {\n    this.cookieManager = CookieManager.getInstance();\n  }\n\n  generateConsentId(): string {\n    return (\n      \"consent_\" + Math.random().toString(36).substr(2, 9) + \"_\" + Date.now()\n    );\n  }\n\n  createConsentData(\n    preferences: ConsentPreferences,\n    complianceType: ComplianceType,\n    services: Record<string, boolean> = {}\n  ): ConsentData {\n    const consentId = this.generateConsentId();\n\n    return {\n      timestamp: Date.now(),\n      version: \"1.0.0\",\n      preferences,\n      services,\n      complianceType,\n      consentId,\n    };\n  }\n\n  getDefaultPreferences(): ConsentPreferences {\n    return {\n      necessary: true, // Always true as it's required\n      functional: false,\n      analytics: false,\n      advertising: false,\n      social: false,\n      other: false,\n    };\n  }\n\n  validatePreferences(\n    preferences: Partial<ConsentPreferences>\n  ): ConsentPreferences {\n    const defaultPrefs = this.getDefaultPreferences();\n\n    return {\n      necessary: true, // Always true\n      functional: preferences.functional ?? defaultPrefs.functional,\n      analytics: preferences.analytics ?? defaultPrefs.analytics,\n      advertising: preferences.advertising ?? defaultPrefs.advertising,\n      social: preferences.social ?? defaultPrefs.social,\n      other: preferences.other ?? defaultPrefs.other,\n    };\n  }\n\n  hasConsentForCategory(\n    consentData: ConsentData | null,\n    category: CookieCategory\n  ): boolean {\n    if (!consentData) return false;\n\n    // Necessary cookies are always allowed\n    if (category === \"necessary\") return true;\n\n    return consentData.preferences[category] === true;\n  }\n\n  hasConsentForService(\n    consentData: ConsentData | null,\n    serviceId: string\n  ): boolean {\n    if (!consentData) return false;\n\n    const serviceConsent = consentData.services[serviceId];\n    return serviceConsent === \"granted\";\n  }\n\n  isConsentValid(consentData: ConsentData | null, expiryDays: number): boolean {\n    if (!consentData) return false;\n\n    return !this.cookieManager.isConsentExpired(consentData, expiryDays);\n  }\n\n  mergeConsentData(\n    existing: ConsentData | null,\n    newPreferences: Partial<ConsentPreferences>,\n    complianceType: ComplianceType\n  ): ConsentData {\n    const validatedPreferences = this.validatePreferences(newPreferences);\n\n    if (existing && this.isConsentValid(existing, 365)) {\n      return {\n        ...existing,\n        timestamp: Date.now(),\n        preferences: validatedPreferences,\n        complianceType,\n      };\n    }\n\n    return this.createConsentData(validatedPreferences, complianceType);\n  }\n\n  getConsentSummary(consentData: ConsentData | null): {\n    hasConsent: boolean;\n    categories: Record<CookieCategory, boolean>;\n    totalServices: number;\n    consentedServices: number;\n  } {\n    if (!consentData) {\n      return {\n        hasConsent: false,\n        categories: this.getDefaultPreferences(),\n        totalServices: 0,\n        consentedServices: 0,\n      };\n    }\n\n    const services = Object.values(consentData.services);\n    const consentedServices = services.filter(\n      (state) => state === \"granted\"\n    ).length;\n\n    return {\n      hasConsent: true,\n      categories: consentData.preferences,\n      totalServices: services.length,\n      consentedServices,\n    };\n  }\n\n  // DPDPA specific compliance checks\n  isDPDPACompliant(consentData: ConsentData | null): boolean {\n    if (!consentData || consentData.complianceType !== \"DPDPA\") {\n      return false;\n    }\n\n    // DPDPA requires explicit consent for all non-necessary categories\n    const { preferences } = consentData;\n\n    // Check if user has made explicit choices for all categories\n    const hasExplicitConsent = Object.entries(preferences).every(\n      ([category, granted]) => {\n        if (category === \"necessary\") return true; // Always required\n        return granted !== undefined; // Must have explicit choice\n      }\n    );\n\n    return hasExplicitConsent;\n  }\n\n  // GDPR specific compliance checks\n  isGDPRCompliant(consentData: ConsentData | null): boolean {\n    if (!consentData || consentData.complianceType !== \"GDPR\") {\n      return false;\n    }\n\n    // GDPR requires explicit consent for all non-necessary categories\n    const { preferences } = consentData;\n\n    // Check if user has made explicit choices for all categories\n    const hasExplicitConsent = Object.entries(preferences).every(\n      ([category, granted]) => {\n        if (category === \"necessary\") return true; // Always required\n        return granted !== undefined; // Must have explicit choice\n      }\n    );\n\n    return hasExplicitConsent;\n  }\n\n  // CCPA specific compliance checks\n  isCCPACompliant(consentData: ConsentData | null): boolean {\n    if (!consentData || consentData.complianceType !== \"CCPA\") {\n      return false;\n    }\n\n    // CCPA allows opt-out for sale of personal information\n    // For now, we consider it compliant if consent data exists\n    return true;\n  }\n\n  getComplianceStatus(consentData: ConsentData | null): {\n    isCompliant: boolean;\n    complianceType: ComplianceType | null;\n    issues: string[];\n  } {\n    if (!consentData) {\n      return {\n        isCompliant: false,\n        complianceType: null,\n        issues: [\"No consent data found\"],\n      };\n    }\n\n    const issues: string[] = [];\n    let isCompliant = false;\n\n    switch (consentData.complianceType) {\n      case \"DPDPA\":\n        isCompliant = this.isDPDPACompliant(consentData);\n        if (!isCompliant) {\n          issues.push(\"DPDPA compliance requirements not met\");\n        }\n        break;\n      case \"GDPR\":\n        isCompliant = this.isGDPRCompliant(consentData);\n        if (!isCompliant) {\n          issues.push(\"GDPR compliance requirements not met\");\n        }\n        break;\n      case \"CCPA\":\n        isCompliant = this.isCCPACompliant(consentData);\n        if (!isCompliant) {\n          issues.push(\"CCPA compliance requirements not met\");\n        }\n        break;\n      default:\n        issues.push(\"Unknown compliance type\");\n    }\n\n    return {\n      isCompliant,\n      complianceType: consentData.complianceType,\n      issues,\n    };\n  }\n}\n","import { DOMUtils } from \"../utils/dom\";\nimport { RedactoConfig, ConsentPreferences } from \"../types\";\n\nexport class ConsentBanner {\n  private config: RedactoConfig;\n  private bannerElement: HTMLElement | null = null;\n  private isVisible: boolean = false;\n\n  constructor(config: RedactoConfig) {\n    this.config = config;\n  }\n\n  create(): HTMLElement {\n    const banner = DOMUtils.createElement(\"div\", \"redacto-banner\");\n    DOMUtils.addClass(banner, this.config.banner.position);\n\n    // Apply custom styles\n    this.applyBannerStyles(banner);\n\n    // Create banner content\n    const content = this.createBannerContent();\n    DOMUtils.appendChild(banner, content);\n\n    this.bannerElement = banner;\n    return banner;\n  }\n\n  private createBannerContent(): HTMLElement {\n    const content = DOMUtils.createElement(\"div\", \"redacto-banner-content\");\n\n    // Add icon if enabled\n    if (this.config.banner.showIcon) {\n      const icon = this.createIcon();\n      DOMUtils.appendChild(content, icon);\n    }\n\n    // Add text content\n    const textContent = this.createTextContent();\n    DOMUtils.appendChild(content, textContent);\n\n    // Add action buttons\n    const actions = this.createActionButtons();\n    DOMUtils.appendChild(content, actions);\n\n    return content;\n  }\n\n  private createIcon(): HTMLElement {\n    const icon = DOMUtils.createElement(\"div\", \"redacto-banner-icon\");\n    icon.innerHTML = `\n      <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\" fill=\"currentColor\"/>\n      </svg>\n    `;\n    return icon;\n  }\n\n  private createTextContent(): HTMLElement {\n    const textContent = DOMUtils.createElement(\"div\", \"redacto-banner-text\");\n\n    const title = DOMUtils.createElement(\"h3\", \"redacto-banner-title\");\n    title.textContent = this.config.texts.bannerTitle;\n    DOMUtils.appendChild(textContent, title);\n\n    const description = DOMUtils.createElement(\n      \"p\",\n      \"redacto-banner-description\"\n    );\n    description.textContent = this.config.texts.bannerDescription;\n    DOMUtils.appendChild(textContent, description);\n\n    return textContent;\n  }\n\n  private createActionButtons(): HTMLElement {\n    const actions = DOMUtils.createElement(\"div\", \"redacto-banner-actions\");\n\n    // Accept All button\n    const acceptButton = DOMUtils.createButton(\n      this.config.texts.acceptAllText,\n      \"redacto-banner-button primary\",\n      () => this.onAcceptAll()\n    );\n    DOMUtils.appendChild(actions, acceptButton);\n\n    // Reject All button\n    const rejectButton = DOMUtils.createButton(\n      this.config.texts.rejectAllText,\n      \"redacto-banner-button secondary\",\n      () => this.onRejectAll()\n    );\n    DOMUtils.appendChild(actions, rejectButton);\n\n    // Manage Preferences button\n    const manageButton = DOMUtils.createButton(\n      this.config.texts.managePreferencesText,\n      \"redacto-banner-button outline\",\n      () => this.onManagePreferences()\n    );\n    DOMUtils.appendChild(actions, manageButton);\n\n    return actions;\n  }\n\n  private applyBannerStyles(banner: HTMLElement): void {\n    const styles = {\n      backgroundColor: this.config.banner.backgroundColor,\n      color: this.config.banner.textColor,\n      borderRadius: this.config.banner.borderRadius,\n      fontSize: this.config.banner.fontSize,\n      fontFamily: this.config.banner.fontFamily,\n      padding: this.config.banner.padding,\n      margin: this.config.banner.margin,\n      zIndex: this.config.banner.zIndex.toString(),\n    };\n\n    DOMUtils.addStyles(banner, styles);\n\n    // Apply button styles\n    this.applyButtonStyles(banner);\n  }\n\n  private applyButtonStyles(banner: HTMLElement): void {\n    const acceptButton = banner.querySelector(\n      \".redacto-banner-button.primary\"\n    ) as HTMLElement;\n    const rejectButton = banner.querySelector(\n      \".redacto-banner-button.secondary\"\n    ) as HTMLElement;\n    const manageButton = banner.querySelector(\n      \".redacto-banner-button.outline\"\n    ) as HTMLElement;\n\n    if (acceptButton) {\n      DOMUtils.addStyles(acceptButton, {\n        backgroundColor: this.config.banner.acceptButtonColor,\n        color: this.config.banner.acceptButtonTextColor,\n      });\n    }\n\n    if (rejectButton) {\n      DOMUtils.addStyles(rejectButton, {\n        backgroundColor: this.config.banner.rejectButtonColor,\n        color: this.config.banner.rejectButtonTextColor,\n      });\n    }\n\n    if (manageButton) {\n      DOMUtils.addStyles(manageButton, {\n        color: this.config.banner.manageButtonTextColor,\n        borderColor: this.config.banner.manageButtonTextColor,\n      });\n    }\n  }\n\n  show(): void {\n    if (!this.bannerElement) {\n      this.create();\n    }\n\n    if (this.bannerElement && !this.isVisible) {\n      document.body.appendChild(this.bannerElement);\n      this.isVisible = true;\n\n      // Trigger animation\n      if (this.config.banner.animation !== \"none\") {\n        this.animateIn();\n      }\n\n      // Call callback\n      if (this.config.onBannerShow) {\n        this.config.onBannerShow();\n      }\n    }\n  }\n\n  hide(): void {\n    if (this.bannerElement && this.isVisible) {\n      if (this.config.banner.animation !== \"none\") {\n        this.animateOut(() => {\n          this.removeBanner();\n        });\n      } else {\n        this.removeBanner();\n      }\n    }\n  }\n\n  private removeBanner(): void {\n    if (this.bannerElement && this.bannerElement.parentNode) {\n      this.bannerElement.parentNode.removeChild(this.bannerElement);\n      this.isVisible = false;\n\n      // Call callback\n      if (this.config.onBannerHide) {\n        this.config.onBannerHide();\n      }\n    }\n  }\n\n  private animateIn(): void {\n    if (!this.bannerElement) return;\n\n    const animationClass = this.getAnimationClass(\"in\");\n    DOMUtils.addClass(this.bannerElement, animationClass);\n\n    setTimeout(() => {\n      if (this.bannerElement) {\n        DOMUtils.removeClass(this.bannerElement, animationClass);\n      }\n    }, this.config.banner.animationDuration);\n  }\n\n  private animateOut(callback: () => void): void {\n    if (!this.bannerElement) return;\n\n    const animationClass = this.getAnimationClass(\"out\");\n    DOMUtils.addClass(this.bannerElement, animationClass);\n\n    setTimeout(() => {\n      callback();\n    }, this.config.banner.animationDuration);\n  }\n\n  private getAnimationClass(direction: \"in\" | \"out\"): string {\n    const position = this.config.banner.position;\n    const animation = this.config.banner.animation;\n\n    if (direction === \"in\") {\n      switch (animation) {\n        case \"slide\":\n          return position === \"top\" ? \"slideInDown\" : \"slideInUp\";\n        case \"fade\":\n          return \"fadeIn\";\n        default:\n          return \"\";\n      }\n    } else {\n      switch (animation) {\n        case \"slide\":\n          return position === \"top\" ? \"slideOutUp\" : \"slideOutDown\";\n        case \"fade\":\n          return \"fadeOut\";\n        default:\n          return \"\";\n      }\n    }\n  }\n\n  private onAcceptAll(): void {\n    const preferences: ConsentPreferences = {\n      necessary: true,\n      functional: true,\n      analytics: true,\n      advertising: true,\n      social: true,\n      other: true,\n    };\n\n    this.triggerConsentChange(preferences);\n    this.hide();\n  }\n\n  private onRejectAll(): void {\n    const preferences: ConsentPreferences = {\n      necessary: true, // Always required\n      functional: false,\n      analytics: false,\n      advertising: false,\n      social: false,\n      other: false,\n    };\n\n    this.triggerConsentChange(preferences);\n    this.hide();\n  }\n\n  private onManagePreferences(): void {\n    this.hide();\n    // This will be handled by the main consent manager\n    if (this.config.onModalShow) {\n      this.config.onModalShow();\n    }\n  }\n\n  private triggerConsentChange(preferences: ConsentPreferences): void {\n    // This will be handled by the main consent manager\n    if (this.config.onConsentChange) {\n      // Create a mock consent data for the callback\n      const consentData = {\n        timestamp: Date.now(),\n        version: \"1.0.0\",\n        preferences,\n        services: {},\n        complianceType: this.config.complianceType,\n        consentId: \"banner_\" + Date.now(),\n      };\n      this.config.onConsentChange(consentData);\n    }\n  }\n\n  updateConfig(newConfig: Partial<RedactoConfig>): void {\n    this.config = { ...this.config, ...newConfig };\n\n    if (this.bannerElement) {\n      // Recreate banner with new config\n      this.hide();\n      this.bannerElement = null;\n      this.show();\n    }\n  }\n\n  destroy(): void {\n    this.hide();\n    this.bannerElement = null;\n  }\n\n  isBannerVisible(): boolean {\n    return this.isVisible;\n  }\n}\n","import { DOMUtils } from \"../utils/dom\";\nimport { RedactoConfig, ConsentPreferences, CookieCategory } from \"../types\";\n\nexport class ConsentModal {\n  private config: RedactoConfig;\n  private modalElement: HTMLElement | null = null;\n  private overlayElement: HTMLElement | null = null;\n  private isVisible: boolean = false;\n  private currentPreferences: ConsentPreferences;\n\n  constructor(config: RedactoConfig) {\n    this.config = config;\n    this.currentPreferences = {\n      necessary: true,\n      functional: false,\n      analytics: false,\n      advertising: false,\n      social: false,\n      other: false,\n    };\n  }\n\n  create(): HTMLElement {\n    const overlay = DOMUtils.createElement(\"div\", \"redacto-modal-overlay\");\n    this.applyOverlayStyles(overlay);\n\n    const modal = DOMUtils.createElement(\"div\", \"redacto-modal\");\n    this.applyModalStyles(modal);\n\n    // Create modal content\n    const header = this.createModalHeader();\n    const content = this.createModalContent();\n    const footer = this.createModalFooter();\n\n    DOMUtils.appendChild(modal, header);\n    DOMUtils.appendChild(modal, content);\n    DOMUtils.appendChild(modal, footer);\n\n    DOMUtils.appendChild(overlay, modal);\n\n    this.overlayElement = overlay;\n    this.modalElement = modal;\n\n    return overlay;\n  }\n\n  private createModalHeader(): HTMLElement {\n    const header = DOMUtils.createElement(\"div\", \"redacto-modal-header\");\n\n    const title = DOMUtils.createElement(\"h2\", \"redacto-modal-title\");\n    title.textContent = this.config.texts.modalTitle;\n    DOMUtils.appendChild(header, title);\n\n    const description = DOMUtils.createElement(\n      \"p\",\n      \"redacto-modal-description\"\n    );\n    description.textContent = this.config.texts.modalDescription;\n    DOMUtils.appendChild(header, description);\n\n    return header;\n  }\n\n  private createModalContent(): HTMLElement {\n    const content = DOMUtils.createElement(\"div\", \"redacto-modal-content\");\n\n    // Create category sections\n    const categories: CookieCategory[] = [\n      \"necessary\",\n      \"functional\",\n      \"analytics\",\n      \"advertising\",\n      \"social\",\n      \"other\",\n    ];\n\n    categories.forEach((category) => {\n      const categoryElement = this.createCategorySection(category);\n      DOMUtils.appendChild(content, categoryElement);\n    });\n\n    // Add links section\n    const links = this.createLinksSection();\n    DOMUtils.appendChild(content, links);\n\n    return content;\n  }\n\n  private createCategorySection(category: CookieCategory): HTMLElement {\n    const categoryDiv = DOMUtils.createElement(\"div\", \"redacto-category\");\n\n    const header = DOMUtils.createElement(\"div\", \"redacto-category-header\");\n\n    const checkbox = DOMUtils.createCheckbox(\n      `category-${category}`,\n      this.currentPreferences[category],\n      category === \"necessary\" // Necessary cookies are always required\n    );\n    DOMUtils.addClass(checkbox, \"redacto-category-checkbox\");\n    DOMUtils.appendChild(header, checkbox);\n\n    const title = DOMUtils.createElement(\"h4\", \"redacto-category-title\");\n    title.textContent = this.getCategoryTitle(category);\n    DOMUtils.appendChild(header, title);\n\n    DOMUtils.appendChild(categoryDiv, header);\n\n    const description = DOMUtils.createElement(\n      \"p\",\n      \"redacto-category-description\"\n    );\n    description.textContent = this.getCategoryDescription(category);\n    DOMUtils.appendChild(categoryDiv, description);\n\n    // Add services for this category\n    const services = this.config.services.filter(\n      (service) => service.category === category\n    );\n    if (services.length > 0) {\n      const servicesDiv = this.createServicesSection(services);\n      DOMUtils.appendChild(categoryDiv, servicesDiv);\n    }\n\n    // Add event listener for checkbox\n    checkbox.addEventListener(\"change\", (e) => {\n      const target = e.target as HTMLInputElement;\n      this.currentPreferences[category] = target.checked;\n      this.updateServicesState(category, target.checked);\n    });\n\n    return categoryDiv;\n  }\n\n  private createServicesSection(services: any[]): HTMLElement {\n    const servicesDiv = DOMUtils.createElement(\"div\", \"redacto-services\");\n\n    services.forEach((service) => {\n      const serviceDiv = DOMUtils.createElement(\"div\", \"redacto-service\");\n\n      const checkbox = DOMUtils.createCheckbox(\n        `service-${service.id}`,\n        this.currentPreferences[service.category]\n      );\n      DOMUtils.addClass(checkbox, \"redacto-service-checkbox\");\n      DOMUtils.appendChild(serviceDiv, checkbox);\n\n      const name = DOMUtils.createElement(\"span\", \"redacto-service-name\");\n      name.textContent = service.name;\n      DOMUtils.appendChild(serviceDiv, name);\n\n      if (service.description) {\n        const description = DOMUtils.createElement(\n          \"p\",\n          \"redacto-service-description\"\n        );\n        description.textContent = service.description;\n        DOMUtils.appendChild(serviceDiv, description);\n      }\n\n      DOMUtils.appendChild(servicesDiv, serviceDiv);\n    });\n\n    return servicesDiv;\n  }\n\n  private createLinksSection(): HTMLElement {\n    const linksDiv = DOMUtils.createElement(\"div\", \"redacto-links\");\n\n    if (this.config.privacyUrl) {\n      const privacyLink = DOMUtils.createLink(\n        this.config.privacyUrl,\n        this.config.texts.privacyPolicyText,\n        \"redacto-link\",\n        \"_blank\"\n      );\n      DOMUtils.appendChild(linksDiv, privacyLink);\n    }\n\n    if (this.config.cookiePolicyUrl) {\n      const cookieLink = DOMUtils.createLink(\n        this.config.cookiePolicyUrl,\n        this.config.texts.cookiePolicyText,\n        \"redacto-link\",\n        \"_blank\"\n      );\n      DOMUtils.appendChild(linksDiv, cookieLink);\n    }\n\n    return linksDiv;\n  }\n\n  private createModalFooter(): HTMLElement {\n    const footer = DOMUtils.createElement(\"div\", \"redacto-modal-footer\");\n\n    const saveButton = DOMUtils.createButton(\n      this.config.texts.savePreferencesText,\n      \"redacto-banner-button primary\",\n      () => this.onSavePreferences()\n    );\n    DOMUtils.appendChild(footer, saveButton);\n\n    const cancelButton = DOMUtils.createButton(\n      \"Cancel\",\n      \"redacto-banner-button outline\",\n      () => this.hide()\n    );\n    DOMUtils.appendChild(footer, cancelButton);\n\n    return footer;\n  }\n\n  private applyOverlayStyles(overlay: HTMLElement): void {\n    const styles = {\n      backgroundColor: this.config.modal.overlayColor,\n      zIndex: this.config.modal.zIndex.toString(),\n    };\n    DOMUtils.addStyles(overlay, styles);\n  }\n\n  private applyModalStyles(modal: HTMLElement): void {\n    const styles = {\n      backgroundColor: this.config.modal.backgroundColor,\n      color: this.config.modal.textColor,\n      borderRadius: this.config.modal.borderRadius,\n      fontSize: this.config.modal.fontSize,\n      fontFamily: this.config.modal.fontFamily,\n      padding: this.config.modal.padding,\n      maxWidth: this.config.modal.maxWidth,\n      maxHeight: this.config.modal.maxHeight,\n    };\n    DOMUtils.addStyles(modal, styles);\n  }\n\n  private getCategoryTitle(category: CookieCategory): string {\n    switch (category) {\n      case \"necessary\":\n        return this.config.texts.necessaryTitle;\n      case \"functional\":\n        return this.config.texts.functionalTitle;\n      case \"analytics\":\n        return this.config.texts.analyticsTitle;\n      case \"advertising\":\n        return this.config.texts.advertisingTitle;\n      case \"social\":\n        return this.config.texts.socialTitle;\n      case \"other\":\n        return this.config.texts.otherTitle;\n      default:\n        return category.charAt(0).toUpperCase() + category.slice(1);\n    }\n  }\n\n  private getCategoryDescription(category: CookieCategory): string {\n    switch (category) {\n      case \"necessary\":\n        return this.config.texts.necessaryDescription;\n      case \"functional\":\n        return this.config.texts.functionalDescription;\n      case \"analytics\":\n        return this.config.texts.analyticsDescription;\n      case \"advertising\":\n        return this.config.texts.advertisingDescription;\n      case \"social\":\n        return this.config.texts.socialDescription;\n      case \"other\":\n        return this.config.texts.otherDescription;\n      default:\n        return `Description for ${category} cookies.`;\n    }\n  }\n\n  private updateServicesState(\n    category: CookieCategory,\n    enabled: boolean\n  ): void {\n    const services = this.modalElement?.querySelectorAll(\n      `.redacto-service input[type=\"checkbox\"]`\n    );\n    services?.forEach((checkbox) => {\n      const input = checkbox as HTMLInputElement;\n      if (input.id.startsWith(`service-`)) {\n        const serviceId = input.id.replace(\"service-\", \"\");\n        const service = this.config.services.find((s) => s.id === serviceId);\n        if (service && service.category === category) {\n          input.checked = enabled;\n        }\n      }\n    });\n  }\n\n  show(preferences?: ConsentPreferences): void {\n    if (!this.overlayElement) {\n      this.create();\n    }\n\n    if (this.overlayElement && !this.isVisible) {\n      // Set initial preferences\n      if (preferences) {\n        this.currentPreferences = { ...preferences };\n        this.updateCheckboxes();\n      }\n\n      document.body.appendChild(this.overlayElement);\n      this.isVisible = true;\n\n      // Trigger animation\n      if (this.config.modal.animation !== \"none\") {\n        this.animateIn();\n      }\n\n      // Call callback\n      if (this.config.onModalShow) {\n        this.config.onModalShow();\n      }\n    }\n  }\n\n  hide(): void {\n    if (this.overlayElement && this.isVisible) {\n      if (this.config.modal.animation !== \"none\") {\n        this.animateOut(() => {\n          this.removeModal();\n        });\n      } else {\n        this.removeModal();\n      }\n    }\n  }\n\n  private removeModal(): void {\n    if (this.overlayElement && this.overlayElement.parentNode) {\n      this.overlayElement.parentNode.removeChild(this.overlayElement);\n      this.isVisible = false;\n\n      // Call callback\n      if (this.config.onModalHide) {\n        this.config.onModalHide();\n      }\n    }\n  }\n\n  private animateIn(): void {\n    if (!this.overlayElement || !this.modalElement) return;\n\n    const animationClass = this.getAnimationClass(\"in\");\n    DOMUtils.addClass(this.overlayElement, animationClass);\n    DOMUtils.addClass(this.modalElement, animationClass);\n\n    setTimeout(() => {\n      if (this.overlayElement)\n        DOMUtils.removeClass(this.overlayElement, animationClass);\n      if (this.modalElement)\n        DOMUtils.removeClass(this.modalElement, animationClass);\n    }, this.config.modal.animationDuration);\n  }\n\n  private animateOut(callback: () => void): void {\n    if (!this.overlayElement || !this.modalElement) return;\n\n    const animationClass = this.getAnimationClass(\"out\");\n    DOMUtils.addClass(this.overlayElement, animationClass);\n    DOMUtils.addClass(this.modalElement, animationClass);\n\n    setTimeout(() => {\n      callback();\n    }, this.config.modal.animationDuration);\n  }\n\n  private getAnimationClass(direction: \"in\" | \"out\"): string {\n    const animation = this.config.modal.animation;\n\n    if (direction === \"in\") {\n      switch (animation) {\n        case \"slide\":\n          return \"slideInUp\";\n        case \"fade\":\n          return \"fadeIn\";\n        case \"scale\":\n          return \"scaleIn\";\n        default:\n          return \"\";\n      }\n    } else {\n      switch (animation) {\n        case \"slide\":\n          return \"slideOutDown\";\n        case \"fade\":\n          return \"fadeOut\";\n        case \"scale\":\n          return \"scaleOut\";\n        default:\n          return \"\";\n      }\n    }\n  }\n\n  private updateCheckboxes(): void {\n    Object.entries(this.currentPreferences).forEach(([category, enabled]) => {\n      const checkbox = this.overlayElement?.querySelector(\n        `#category-${category}`\n      ) as HTMLInputElement;\n      if (checkbox) {\n        checkbox.checked = enabled;\n      }\n    });\n  }\n\n  private onSavePreferences(): void {\n    // Collect all preferences from checkboxes\n    const preferences: ConsentPreferences = {\n      necessary: true, // Always true\n      functional: false,\n      analytics: false,\n      advertising: false,\n      social: false,\n      other: false,\n    };\n\n    Object.keys(preferences).forEach((category) => {\n      if (category !== \"necessary\") {\n        const checkbox = this.overlayElement?.querySelector(\n          `#category-${category}`\n        ) as HTMLInputElement;\n        if (checkbox) {\n          preferences[category as CookieCategory] = checkbox.checked;\n        }\n      }\n    });\n\n    // Trigger consent change\n    if (this.config.onConsentChange) {\n      const consentData = {\n        timestamp: Date.now(),\n        version: \"1.0.0\",\n        preferences,\n        services: {},\n        complianceType: this.config.complianceType,\n        consentId: \"modal_\" + Date.now(),\n      };\n      this.config.onConsentChange(consentData);\n    }\n\n    this.hide();\n  }\n\n  updateConfig(newConfig: Partial<RedactoConfig>): void {\n    this.config = { ...this.config, ...newConfig };\n\n    if (this.overlayElement) {\n      // Recreate modal with new config\n      this.hide();\n      this.overlayElement = null;\n      this.modalElement = null;\n      this.show(this.currentPreferences);\n    }\n  }\n\n  destroy(): void {\n    this.hide();\n    this.overlayElement = null;\n    this.modalElement = null;\n  }\n\n  isModalVisible(): boolean {\n    return this.isVisible;\n  }\n}\n","import { RedactoConfig, ComplianceType, BannerPosition } from \"../types\";\n\nexport const defaultBannerConfig = {\n  position: \"bottom\" as BannerPosition,\n  primaryColor: \"#3b82f6\",\n  backgroundColor: \"#ffffff\",\n  textColor: \"#374151\",\n  acceptButtonColor: \"#3b82f6\",\n  acceptButtonTextColor: \"#ffffff\",\n  rejectButtonColor: \"#6b7280\",\n  rejectButtonTextColor: \"#ffffff\",\n  manageButtonColor: \"transparent\",\n  manageButtonTextColor: \"#3b82f6\",\n  borderRadius: \"8px\",\n  fontSize: \"14px\",\n  fontFamily:\n    '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif',\n  padding: \"16px\",\n  margin: \"16px\",\n  zIndex: 999999,\n  showIcon: true,\n  iconPosition: \"left\" as const,\n  animation: \"slide\" as const,\n  animationDuration: 300,\n};\n\nexport const defaultModalConfig = {\n  backgroundColor: \"#ffffff\",\n  overlayColor: \"rgba(0, 0, 0, 0.5)\",\n  textColor: \"#374151\",\n  primaryColor: \"#3b82f6\",\n  secondaryColor: \"#6b7280\",\n  borderRadius: \"12px\",\n  fontSize: \"14px\",\n  fontFamily:\n    '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif',\n  padding: \"24px\",\n  maxWidth: \"600px\",\n  maxHeight: \"80vh\",\n  zIndex: 1000000,\n  animation: \"scale\" as const,\n  animationDuration: 300,\n};\n\nexport const defaultTexts = {\n  bannerTitle: \"Cookie Consent\",\n  bannerDescription:\n    'We use cookies to enhance your browsing experience, serve personalized content, and analyze our traffic. By clicking \"Accept All\", you consent to our use of cookies.',\n  acceptAllText: \"Accept All\",\n  rejectAllText: \"Reject All\",\n  managePreferencesText: \"Manage Preferences\",\n  modalTitle: \"Cookie Preferences\",\n  modalDescription:\n    \"We use cookies to enhance your browsing experience, serve personalized content, and analyze our traffic. You can choose which categories of cookies to allow.\",\n  necessaryTitle: \"Necessary Cookies\",\n  necessaryDescription:\n    \"These cookies are essential for the website to function properly. They cannot be disabled.\",\n  functionalTitle: \"Functional Cookies\",\n  functionalDescription:\n    \"These cookies enable enhanced functionality and personalization, such as remembering your preferences.\",\n  analyticsTitle: \"Analytics Cookies\",\n  analyticsDescription:\n    \"These cookies help us understand how visitors interact with our website by collecting and reporting information anonymously.\",\n  advertisingTitle: \"Advertising Cookies\",\n  advertisingDescription:\n    \"These cookies are used to deliver advertisements more relevant to you and your interests.\",\n  socialTitle: \"Social Media Cookies\",\n  socialDescription:\n    \"These cookies are set by social media services that we have added to the site to enable you to share our content.\",\n  otherTitle: \"Other Cookies\",\n  otherDescription: \"These are cookies that have not been categorized yet.\",\n  savePreferencesText: \"Save Preferences\",\n  privacyPolicyText: \"Privacy Policy\",\n  cookiePolicyText: \"Cookie Policy\",\n  poweredByText: \"Powered by Redacto\",\n};\n\nexport const defaultServices: any[] = [\n  {\n    id: \"google-analytics\",\n    name: \"Google Analytics\",\n    category: \"analytics\",\n    description:\n      \"Google Analytics helps us understand how visitors interact with our website.\",\n    cookies: [\"_ga\", \"_ga_*\", \"_gid\", \"_gat\"],\n    purpose: \"Website analytics and performance measurement\",\n    retention: \"2 years\",\n    thirdParty: true,\n    thirdPartyName: \"Google LLC\",\n    thirdPartyUrl: \"https://policies.google.com/privacy\",\n  },\n  {\n    id: \"google-tag-manager\",\n    name: \"Google Tag Manager\",\n    category: \"analytics\",\n    description:\n      \"Google Tag Manager helps us manage and deploy marketing and analytics tags.\",\n    cookies: [\"_gtm\", \"_gtag\"],\n    purpose: \"Tag management and analytics\",\n    retention: \"2 years\",\n    thirdParty: true,\n    thirdPartyName: \"Google LLC\",\n    thirdPartyUrl: \"https://policies.google.com/privacy\",\n  },\n];\n\nexport const createDefaultConfig = (\n  complianceType: ComplianceType = \"DPDPA\"\n): RedactoConfig => ({\n  complianceType,\n  cookieName: \"redacto-consent\",\n  privacyUrl: \"\",\n  cookiePolicyUrl: \"\",\n  dataProcessorUrl: \"\",\n\n  banner: defaultBannerConfig,\n  modal: defaultModalConfig,\n  texts: defaultTexts,\n  services: defaultServices,\n\n  showBannerOnFirstVisit: true,\n  showBannerOnConsentChange: false,\n  autoHideBanner: false,\n  autoHideDelay: 0,\n  rememberConsent: true,\n  consentExpiry: 365,\n\n  enableGoogleConsentMode: true,\n  enableBingConsentMode: false,\n  enableDataLayer: false,\n  dataLayerName: \"dataLayer\",\n  enableSoftConsent: false,\n  enableDoNotTrack: false,\n\n  debug: false,\n});\n","import { DOMUtils } from \"./utils/dom\";\nimport { CookieManager } from \"./utils/cookies\";\nimport { ConsentManager as ConsentUtils } from \"./utils/consent\";\nimport { ConsentBanner } from \"./components/Banner\";\nimport { ConsentModal } from \"./components/Modal\";\nimport {\n  RedactoConfig,\n  ConsentData,\n  ConsentPreferences,\n  CookieCategory,\n  RedactoInstance,\n} from \"./types\";\nimport { createDefaultConfig } from \"./config/defaults\";\n\nexport class RedactoConsentManager implements RedactoInstance {\n  private config: RedactoConfig;\n  private cookieManager: CookieManager;\n  private consentUtils: ConsentUtils;\n  private banner: ConsentBanner;\n  private modal: ConsentModal;\n  private isInitialized: boolean = false;\n  private consentData: ConsentData | null = null;\n\n  constructor() {\n    this.config = createDefaultConfig();\n    this.cookieManager = CookieManager.getInstance();\n    this.consentUtils = new ConsentUtils();\n    this.banner = new ConsentBanner(this.config);\n    this.modal = new ConsentModal(this.config);\n\n    this.injectStyles();\n    this.setupEventListeners();\n  }\n\n  init(userConfig: Partial<RedactoConfig> = {}): void {\n    try {\n      // Merge user config with defaults\n      this.config = { ...this.config, ...userConfig };\n\n      // Update banner and modal with new config\n      this.banner.updateConfig(this.config);\n      this.modal.updateConfig(this.config);\n\n      // Load existing consent data\n      this.loadConsentData();\n\n      // Check if we need to show the banner\n      this.checkConsentStatus();\n\n      this.isInitialized = true;\n\n      if (this.config.debug) {\n        console.log(\"Redacto Cookie Consent initialized:\", this.config);\n      }\n    } catch (error) {\n      console.error(\"Failed to initialize Redacto Cookie Consent:\", error);\n    }\n  }\n\n  private injectStyles(): void {\n    // Inject CSS styles\n    const css = `\n      /* Redacto Cookie Consent Widget Styles */\n      .redacto-consent-widget {\n        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;\n        font-size: 14px;\n        line-height: 1.5;\n        color: #374151;\n        box-sizing: border-box;\n      }\n      .redacto-consent-widget * {\n        box-sizing: border-box;\n      }\n      \n      /* Banner Styles */\n      .redacto-banner {\n        position: fixed;\n        left: 0;\n        right: 0;\n        z-index: 999999;\n        background: #ffffff;\n        border: 1px solid #e5e7eb;\n        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);\n        padding: 16px;\n        margin: 16px;\n        border-radius: 8px;\n        max-width: calc(100% - 32px);\n        animation: slideInUp 0.3s ease-out;\n      }\n      \n      .redacto-banner.top {\n        top: 0;\n        bottom: auto;\n      }\n      \n      .redacto-banner.bottom {\n        bottom: 0;\n        top: auto;\n      }\n      \n      .redacto-banner.center {\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n        bottom: auto;\n        right: auto;\n        max-width: 600px;\n        width: calc(100% - 32px);\n      }\n      \n      .redacto-banner-content {\n        display: flex;\n        align-items: flex-start;\n        gap: 16px;\n        flex-wrap: wrap;\n      }\n      \n      .redacto-banner-icon {\n        flex-shrink: 0;\n        width: 24px;\n        height: 24px;\n        margin-top: 2px;\n      }\n      \n      .redacto-banner-text {\n        flex: 1;\n        min-width: 0;\n      }\n      \n      .redacto-banner-title {\n        font-size: 16px;\n        font-weight: 600;\n        margin: 0 0 8px 0;\n        color: #111827;\n      }\n      \n      .redacto-banner-description {\n        font-size: 14px;\n        margin: 0 0 16px 0;\n        color: #6b7280;\n        line-height: 1.5;\n      }\n      \n      .redacto-banner-actions {\n        display: flex;\n        gap: 12px;\n        flex-wrap: wrap;\n        align-items: center;\n      }\n      \n      .redacto-banner-button {\n        padding: 8px 16px;\n        border-radius: 6px;\n        font-size: 14px;\n        font-weight: 500;\n        border: none;\n        cursor: pointer;\n        transition: all 0.2s ease;\n        text-decoration: none;\n        display: inline-flex;\n        align-items: center;\n        justify-content: center;\n        min-height: 36px;\n        white-space: nowrap;\n      }\n      \n      .redacto-banner-button:hover {\n        transform: translateY(-1px);\n        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n      }\n      \n      .redacto-banner-button:active {\n        transform: translateY(0);\n      }\n      \n      .redacto-banner-button.primary {\n        background: #3b82f6;\n        color: #ffffff;\n      }\n      \n      .redacto-banner-button.primary:hover {\n        background: #2563eb;\n      }\n      \n      .redacto-banner-button.secondary {\n        background: #6b7280;\n        color: #ffffff;\n      }\n      \n      .redacto-banner-button.secondary:hover {\n        background: #4b5563;\n      }\n      \n      .redacto-banner-button.outline {\n        background: transparent;\n        color: #3b82f6;\n        border: 1px solid #3b82f6;\n      }\n      \n      .redacto-banner-button.outline:hover {\n        background: #3b82f6;\n        color: #ffffff;\n      }\n      \n      /* Modal Styles */\n      .redacto-modal-overlay {\n        position: fixed;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        background: rgba(0, 0, 0, 0.5);\n        z-index: 1000000;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        padding: 16px;\n        animation: fadeIn 0.3s ease-out;\n      }\n      \n      .redacto-modal {\n        background: #ffffff;\n        border-radius: 12px;\n        box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);\n        max-width: 600px;\n        max-height: 80vh;\n        width: 100%;\n        overflow: hidden;\n        animation: scaleIn 0.3s ease-out;\n      }\n      \n      .redacto-modal-header {\n        padding: 24px 24px 0 24px;\n        border-bottom: 1px solid #e5e7eb;\n      }\n      \n      .redacto-modal-title {\n        font-size: 20px;\n        font-weight: 600;\n        margin: 0 0 8px 0;\n        color: #111827;\n      }\n      \n      .redacto-modal-description {\n        font-size: 14px;\n        margin: 0 0 24px 0;\n        color: #6b7280;\n        line-height: 1.5;\n      }\n      \n      .redacto-modal-content {\n        padding: 24px;\n        max-height: 60vh;\n        overflow-y: auto;\n      }\n      \n      .redacto-modal-footer {\n        padding: 0 24px 24px 24px;\n        border-top: 1px solid #e5e7eb;\n        display: flex;\n        gap: 12px;\n        justify-content: flex-end;\n        flex-wrap: wrap;\n      }\n      \n      /* Category Styles */\n      .redacto-category {\n        margin-bottom: 24px;\n        padding: 16px;\n        border: 1px solid #e5e7eb;\n        border-radius: 8px;\n        background: #f9fafb;\n      }\n      \n      .redacto-category-header {\n        display: flex;\n        align-items: center;\n        gap: 12px;\n        margin-bottom: 8px;\n      }\n      \n      .redacto-category-checkbox {\n        width: 18px;\n        height: 18px;\n        accent-color: #3b82f6;\n      }\n      \n      .redacto-category-checkbox:disabled {\n        opacity: 0.5;\n        cursor: not-allowed;\n      }\n      \n      .redacto-category-title {\n        font-size: 16px;\n        font-weight: 600;\n        margin: 0;\n        color: #111827;\n      }\n      \n      .redacto-category-description {\n        font-size: 14px;\n        margin: 0 0 12px 0;\n        color: #6b7280;\n        line-height: 1.5;\n      }\n      \n      .redacto-category-details {\n        font-size: 12px;\n        color: #9ca3af;\n        margin: 0;\n      }\n      \n      /* Services Styles */\n      .redacto-services {\n        margin-top: 12px;\n      }\n      \n      .redacto-service {\n        display: flex;\n        align-items: center;\n        gap: 8px;\n        padding: 8px 0;\n        border-bottom: 1px solid #e5e7eb;\n      }\n      \n      .redacto-service:last-child {\n        border-bottom: none;\n      }\n      \n      .redacto-service-checkbox {\n        width: 16px;\n        height: 16px;\n        accent-color: #3b82f6;\n      }\n      \n      .redacto-service-name {\n        font-size: 14px;\n        font-weight: 500;\n        color: #374151;\n      }\n      \n      .redacto-service-description {\n        font-size: 12px;\n        color: #6b7280;\n        margin-left: 24px;\n      }\n      \n      /* Links */\n      .redacto-links {\n        display: flex;\n        gap: 16px;\n        margin-top: 16px;\n        flex-wrap: wrap;\n      }\n      \n      .redacto-link {\n        color: #3b82f6;\n        text-decoration: none;\n        font-size: 14px;\n      }\n      \n      .redacto-link:hover {\n        text-decoration: underline;\n      }\n      \n      /* Powered by */\n      .redacto-powered-by {\n        text-align: center;\n        font-size: 12px;\n        color: #9ca3af;\n        margin-top: 16px;\n        padding-top: 16px;\n        border-top: 1px solid #e5e7eb;\n      }\n      \n      /* Animations */\n      @keyframes slideInUp {\n        from {\n          transform: translateY(100%);\n          opacity: 0;\n        }\n        to {\n          transform: translateY(0);\n          opacity: 1;\n        }\n      }\n      \n      @keyframes slideInDown {\n        from {\n          transform: translateY(-100%);\n          opacity: 0;\n        }\n        to {\n          transform: translateY(0);\n          opacity: 1;\n        }\n      }\n      \n      @keyframes fadeIn {\n        from {\n          opacity: 0;\n        }\n        to {\n          opacity: 1;\n        }\n      }\n      \n      @keyframes scaleIn {\n        from {\n          transform: scale(0.9);\n          opacity: 0;\n        }\n        to {\n          transform: scale(1);\n          opacity: 1;\n        }\n      }\n      \n      @keyframes slideOutDown {\n        from {\n          transform: translateY(0);\n          opacity: 1;\n        }\n        to {\n          transform: translateY(100%);\n          opacity: 0;\n        }\n      }\n      \n      @keyframes slideOutUp {\n        from {\n          transform: translateY(0);\n          opacity: 1;\n        }\n        to {\n          transform: translateY(-100%);\n          opacity: 0;\n        }\n      }\n      \n      @keyframes fadeOut {\n        from {\n          opacity: 1;\n        }\n        to {\n          opacity: 0;\n        }\n      }\n      \n      @keyframes scaleOut {\n        from {\n          transform: scale(1);\n          opacity: 1;\n        }\n        to {\n          transform: scale(0.9);\n          opacity: 0;\n        }\n      }\n      \n      /* Responsive Design */\n      @media (max-width: 768px) {\n        .redacto-banner {\n          margin: 8px;\n          padding: 12px;\n          max-width: calc(100% - 16px);\n        }\n        \n        .redacto-banner-content {\n          flex-direction: column;\n          gap: 12px;\n        }\n        \n        .redacto-banner-actions {\n          width: 100%;\n          justify-content: stretch;\n        }\n        \n        .redacto-banner-button {\n          flex: 1;\n          min-width: 0;\n        }\n        \n        .redacto-modal {\n          margin: 16px;\n          max-height: calc(100vh - 32px);\n        }\n        \n        .redacto-modal-content {\n          max-height: calc(100vh - 200px);\n        }\n        \n        .redacto-modal-footer {\n          flex-direction: column;\n        }\n        \n        .redacto-modal-footer .redacto-banner-button {\n          width: 100%;\n        }\n      }\n      \n      /* Dark mode support */\n      @media (prefers-color-scheme: dark) {\n        .redacto-banner {\n          background: #1f2937;\n          border-color: #374151;\n          color: #f9fafb;\n        }\n        \n        .redacto-banner-title {\n          color: #f9fafb;\n        }\n        \n        .redacto-banner-description {\n          color: #d1d5db;\n        }\n        \n        .redacto-modal {\n          background: #1f2937;\n          color: #f9fafb;\n        }\n        \n        .redacto-modal-title {\n          color: #f9fafb;\n        }\n        \n        .redacto-modal-description {\n          color: #d1d5db;\n        }\n        \n        .redacto-category {\n          background: #111827;\n          border-color: #374151;\n        }\n        \n        .redacto-category-title {\n          color: #f9fafb;\n        }\n        \n        .redacto-category-description {\n          color: #d1d5db;\n        }\n        \n        .redacto-service-name {\n          color: #f9fafb;\n        }\n        \n        .redacto-service-description {\n          color: #d1d5db;\n        }\n      }\n      \n      /* High contrast mode */\n      @media (prefers-contrast: high) {\n        .redacto-banner {\n          border-width: 2px;\n        }\n        \n        .redacto-banner-button {\n          border-width: 2px;\n        }\n        \n        .redacto-category {\n          border-width: 2px;\n        }\n      }\n      \n      /* Reduced motion */\n      @media (prefers-reduced-motion: reduce) {\n        .redacto-banner,\n        .redacto-modal-overlay,\n        .redacto-modal {\n          animation: none;\n        }\n        \n        .redacto-banner-button {\n          transition: none;\n        }\n      }\n    `;\n\n    DOMUtils.injectCSS(css, \"redacto-consent-styles\");\n  }\n\n  private setupEventListeners(): void {\n    // Handle modal show from banner\n    this.config.onModalShow = () => {\n      this.showModal();\n    };\n\n    // Handle consent changes\n    this.config.onConsentChange = (consentData: ConsentData) => {\n      this.handleConsentChange(consentData);\n    };\n  }\n\n  private loadConsentData(): void {\n    this.consentData = this.cookieManager.getConsentData(\n      this.config.cookieName\n    );\n\n    if (\n      this.consentData &&\n      this.consentUtils.isConsentValid(\n        this.consentData,\n        this.config.consentExpiry\n      )\n    ) {\n      if (this.config.debug) {\n        console.log(\"Loaded existing consent data:\", this.consentData);\n      }\n    } else {\n      this.consentData = null;\n      if (this.config.debug) {\n        console.log(\"No valid consent data found\");\n      }\n    }\n  }\n\n  private checkConsentStatus(): void {\n    if (!this.consentData && this.config.showBannerOnFirstVisit) {\n      this.showBanner();\n    } else if (this.consentData && this.config.showBannerOnConsentChange) {\n      this.showBanner();\n    }\n  }\n\n  private handleConsentChange(consentData: ConsentData): void {\n    this.consentData = consentData;\n\n    // Save consent data\n    if (this.config.rememberConsent) {\n      this.cookieManager.setConsentData(\n        this.config.cookieName,\n        consentData,\n        this.config.consentExpiry\n      );\n    }\n\n    // Update Google Consent Mode\n    if (this.config.enableGoogleConsentMode) {\n      this.updateGoogleConsentMode(consentData);\n    }\n\n    // Update Bing Consent Mode\n    if (this.config.enableBingConsentMode) {\n      this.updateBingConsentMode(consentData);\n    }\n\n    // Update Data Layer\n    if (this.config.enableDataLayer) {\n      this.updateDataLayer(consentData);\n    }\n\n    // Execute service scripts\n    this.executeServiceScripts(consentData);\n\n    if (this.config.debug) {\n      console.log(\"Consent changed:\", consentData);\n    }\n  }\n\n  private updateGoogleConsentMode(consentData: ConsentData): void {\n    try {\n      if (typeof window !== \"undefined\" && (window as any).gtag) {\n        const gtag = (window as any).gtag;\n\n        gtag(\"consent\", \"update\", {\n          ad_storage: consentData.preferences.advertising\n            ? \"granted\"\n            : \"denied\",\n          analytics_storage: consentData.preferences.analytics\n            ? \"granted\"\n            : \"denied\",\n          functionality_storage: consentData.preferences.functional\n            ? \"granted\"\n            : \"denied\",\n          personalization_storage: consentData.preferences.functional\n            ? \"granted\"\n            : \"denied\",\n          security_storage: \"granted\",\n        });\n      }\n    } catch (error) {\n      console.warn(\"Failed to update Google Consent Mode:\", error);\n    }\n  }\n\n  private updateBingConsentMode(consentData: ConsentData): void {\n    try {\n      if (typeof window !== \"undefined\" && (window as any).uetq) {\n        const uetq = (window as any).uetq;\n        uetq(\n          \"consent\",\n          consentData.preferences.advertising ? \"granted\" : \"denied\"\n        );\n      }\n    } catch (error) {\n      console.warn(\"Failed to update Bing Consent Mode:\", error);\n    }\n  }\n\n  private updateDataLayer(consentData: ConsentData): void {\n    try {\n      if (typeof window !== \"undefined\") {\n        const dataLayer = (window as any)[this.config.dataLayerName] || [];\n        dataLayer.push({\n          event: \"consent_update\",\n          consent_data: consentData,\n        });\n      }\n    } catch (error) {\n      console.warn(\"Failed to update data layer:\", error);\n    }\n  }\n\n  private executeServiceScripts(consentData: ConsentData): void {\n    this.config.services.forEach((service) => {\n      const hasConsent = this.consentUtils.hasConsentForCategory(\n        consentData,\n        service.category\n      );\n\n      if (hasConsent && service.onAccept) {\n        try {\n          service.onAccept();\n        } catch (error) {\n          console.warn(\n            `Failed to execute onAccept for service ${service.id}:`,\n            error\n          );\n        }\n      } else if (!hasConsent && service.onReject) {\n        try {\n          service.onReject();\n        } catch (error) {\n          console.warn(\n            `Failed to execute onReject for service ${service.id}:`,\n            error\n          );\n        }\n      }\n    });\n  }\n\n  // Public API methods\n  showBanner(): void {\n    this.banner.show();\n  }\n\n  hideBanner(): void {\n    this.banner.hide();\n  }\n\n  showModal(): void {\n    const preferences =\n      this.consentData?.preferences ||\n      this.consentUtils.getDefaultPreferences();\n    this.modal.show(preferences);\n  }\n\n  hideModal(): void {\n    this.modal.hide();\n  }\n\n  acceptAll(): void {\n    const preferences: ConsentPreferences = {\n      necessary: true,\n      functional: true,\n      analytics: true,\n      advertising: true,\n      social: true,\n      other: true,\n    };\n\n    const consentData = this.consentUtils.createConsentData(\n      preferences,\n      this.config.complianceType\n    );\n    this.handleConsentChange(consentData);\n  }\n\n  rejectAll(): void {\n    const preferences: ConsentPreferences = {\n      necessary: true, // Always required\n      functional: false,\n      analytics: false,\n      advertising: false,\n      social: false,\n      other: false,\n    };\n\n    const consentData = this.consentUtils.createConsentData(\n      preferences,\n      this.config.complianceType\n    );\n    this.handleConsentChange(consentData);\n  }\n\n  savePreferences(preferences: Partial<ConsentPreferences>): void {\n    const validatedPreferences =\n      this.consentUtils.validatePreferences(preferences);\n    const consentData = this.consentUtils.mergeConsentData(\n      this.consentData,\n      validatedPreferences,\n      this.config.complianceType\n    );\n    this.handleConsentChange(consentData);\n  }\n\n  getConsent(): ConsentData | null {\n    return this.consentData;\n  }\n\n  hasConsent(category: CookieCategory): boolean {\n    return this.consentUtils.hasConsentForCategory(this.consentData, category);\n  }\n\n  hasServiceConsent(serviceId: string): boolean {\n    return this.consentUtils.hasConsentForService(this.consentData, serviceId);\n  }\n\n  resetConsent(): void {\n    this.cookieManager.clearConsentData(this.config.cookieName);\n    this.consentData = null;\n\n    if (this.config.showBannerOnConsentChange) {\n      this.showBanner();\n    }\n  }\n\n  destroy(): void {\n    this.banner.destroy();\n    this.modal.destroy();\n    DOMUtils.removeStyleSheet(\"redacto-consent-styles\");\n    this.isInitialized = false;\n  }\n}\n","import { RedactoConsentManager } from \"./ConsentManager\";\nimport { RedactoInstance } from \"./types\";\n\n// Create the global Redacto instance\nconst redacto: RedactoInstance = new RedactoConsentManager();\n\n// Make it available globally\nif (typeof window !== \"undefined\") {\n  (window as any).redacto = redacto;\n}\n\n// Export for module systems\nexport default redacto;\nexport { redacto };\nexport * from \"./types\";\n\n// Auto-initialize if config is provided via data attributes\nif (typeof window !== \"undefined\") {\n  document.addEventListener(\"DOMContentLoaded\", () => {\n    const script = document.querySelector(\"script[data-redacto-config]\");\n    if (script) {\n      try {\n        const configAttr = script.getAttribute(\"data-redacto-config\");\n        if (configAttr) {\n          const config = JSON.parse(configAttr);\n          redacto.init(config);\n        }\n      } catch (error) {\n        console.warn(\n          \"Failed to parse Redacto config from data attribute:\",\n          error\n        );\n      }\n    }\n  });\n}\n"],"names":["ConsentUtils"],"mappings":"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"}